<script lang="ts">
  const endProps = { onanimationend: "introEnded()" } as any;
  const skipProps = { onclick: "introSkip(event)" } as any;
</script>

<div class="intro">
  <div class="bob-fanger">
    <div class="clip-bob">
      <svg class="b" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M0 56V0h48v8h8v16h-8v8h8v16h-8v8H0zm16-32h24V8H16v16zm0
          24h24V32H16v16zm56
          8v-8h-8V24h8v-8h40v8h8v24h-8v8H72zm8-8h24V24H80v24zm56
          8v-8h-8V0h16v16h32v8h8v24h-8v8h-40zm8-8h24V24h-24v24zm112
          8V0h56v8h-40v16h32v8h-32v24h-16zm72
          0v-8h-8v-8h8v-8h32v-8h-32v-8h40v8h8v32h-48zm8-8h24v-8h-24v8zm48
          8V16h48v8h8v32h-16V24h-24v32h-16zm72
          8v-8h32v-8h-32v-8h-8V24h8v-8h48v40h-8v8h-40zm8-24h24V24h-24v16zm56
          16v-8h-8V24h8v-8h40v8h8v16h-40v8h32v8h-40zm8-24h24v-8h-24v8zm72-8h8v8h-8v24h-16V16h16v8zm32-8v8h-24v-8h24zm24
          40V40h16v16h-16zm48 0V16h48v8h8v32h-16V24h-24v32h-16zm72
          0v-8h16V8h-8V0h24v48h16v8h-48z"
          fill="#FFF"
          fill-rule="evenodd"
        />
      </svg>
      <svg class="ob" viewBox="0 0 128 64" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M-64 56V0h48v8h8v16h-8v8h8v16h-8v8h-48zm16-32h24V8h-24v16zm0
          24h24V32h-24v16zm56
          8v-8H0V24h8v-8h40v8h8v24h-8v8H8zm8-8h24V24H16v24zm56
          8v-8h-8V0h16v16h32v8h8v24h-8v8H72zm8-8h24V24H80v24zm112
          8V0h56v8h-40v16h32v8h-32v24h-16zm72
          0v-8h-8v-8h8v-8h32v-8h-32v-8h40v8h8v32h-48zm8-8h24v-8h-24v8zm48
          8V16h48v8h8v32h-16V24h-24v32h-16zm72
          8v-8h32v-8h-32v-8h-8V24h8v-8h48v40h-8v8h-40zm8-24h24V24h-24v16zm56
          16v-8h-8V24h8v-8h40v8h8v16h-40v8h32v8h-40zm8-24h24v-8h-24v8zm72-8h8v8h-8v24h-16V16h16v8zm32-8v8h-24v-8h24zm24
          40V40h16v16h-16zm48 0V16h48v8h8v32h-16V24h-24v32h-16zm72
          0v-8h16V8h-8V0h24v48h16v8h-48z"
          fill="#FFF"
          fill-rule="evenodd"
        />
      </svg>
    </div>
    <svg class="fanger" viewBox="0 0 384 64" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M-256 56V0h48v8h8v16h-8v8h8v16h-8v8h-48zm16-32h24V8h-24v16zm0
        24h24V32h-24v16zm56
        8v-8h-8V24h8v-8h40v8h8v24h-8v8h-40zm8-8h24V24h-24v24zm56
        8v-8h-8V0h16v16h32v8h8v24h-8v8h-40zm8-8h24V24h-24v24zM0
        56V0h56v8H16v16h32v8H16v24H0zm72
        0v-8h-8v-8h8v-8h32v-8H72v-8h40v8h8v32H72zm8-8h24v-8H80v8zm48
        8V16h48v8h8v32h-16V24h-24v32h-16zm72
        8v-8h32v-8h-32v-8h-8V24h8v-8h48v40h-8v8h-40zm8-24h24V24h-24v16zm56
        16v-8h-8V24h8v-8h40v8h8v16h-40v8h32v8h-40zm8-24h24v-8h-24v8zm72-8h8v8h-8v24h-16V16h16v8zm32-8v8h-24v-8h24zm24
        40V40h16v16h-16zm48 0V16h48v8h8v32h-16V24h-24v32h-16zm72
        0v-8h16V8h-8V0h24v48h16v8h-48z"
        fill="#FFF"
        fill-rule="evenodd"
      />
    </svg>
    <div class="clip-nl">
      <svg class="nl" viewBox="0 0 168 64" {...endProps}>
        <path
          d="M-656 56V0h48v8h8v16h-8v8h8v16h-8v8h-48zm16-32h24V8h-24v16zm0
          24h24V32h-24v16zm56
          8v-8h-8V24h8v-8h40v8h8v24h-8v8h-40zm8-8h24V24h-24v24zm56
          8v-8h-8V0h16v16h32v8h8v24h-8v8h-40zm8-8h24V24h-24v24zm112
          8V0h56v8h-40v16h32v8h-32v24h-16zm72
          0v-8h-8v-8h8v-8h32v-8h-32v-8h40v8h8v32h-48zm8-8h24v-8h-24v8zm48
          8V16h48v8h8v32h-16V24h-24v32h-16zm72
          8v-8h32v-8h-32v-8h-8V24h8v-8h48v40h-8v8h-40zm8-24h24V24h-24v16zm56
          16v-8h-8V24h8v-8h40v8h8v16h-40v8h32v8h-40zm8-24h24v-8h-24v8zm72-8h8v8h-8v24h-16V16h16v8zm32-8v8h-24v-8h24zM0
          56V40h16v16H0zm48 0V16h48v8h8v32H88V24H64v32H48zm72
          0v-8h16V8h-8V0h24v48h16v8h-48z"
          fill="#FFF"
          fill-rule="evenodd"
        />
      </svg>
    </div>
  </div>
  <button class="skip" {...skipProps}>
    <div class="skip-button">Intro overslaan</div>
  </button>
</div>

<style>
  .intro {
    position: fixed;
    inset: 0;
    font-size: 20px;
  }

  .bob-fanger {
    will-change: transform;

    position: absolute;
    top: calc(50% - 0.8em);
    left: calc(50% - 7.7em);
    transform: translateZ(0);

    display: flex;
    flex-direction: row;

    animation: bob-fanger 2s;

    svg {
      height: 0.8em;
    }

    @media (width >= 500px) {
      font-size: 30px;
    }
  }

  .clip-bob {
    overflow: hidden;
    display: flex;
    flex-direction: row;

    padding-right: 0.8em;
    padding-left: 1.6em;
  }

  .b {
    will-change: transform;
    transform: translateX(2.3em);
    animation: b 2s;
  }

  .ob {
    will-change: transform;
    transform: translateX(2.6em);
    animation: ob 2s;
  }

  .fanger {
    will-change: transform;
    transform: translateX(0);
    animation: fanger 2s ease-out;
  }

  .clip-nl {
    overflow: hidden;
    display: flex;
    padding-right: 1em;
  }

  .nl {
    will-change: transform;
    transform: translateZ(0);
    animation: nl 2s ease-out;
  }

  .skip {
    cursor: pointer;

    position: absolute;
    top: 0;
    right: 0;

    display: flex;
    align-items: flex-start;
    justify-content: flex-end;

    width: 100%;
    height: 100%;
    padding: 1.2rem 2rem;
    border: 0;

    font-size: 1.6rem;

    opacity: 0;
    background: transparent;
  }

  .skip-button {
    padding: 1.2rem 2rem;
    border: 1px solid white;

    font-weight: bold;
    color: white;

    background: #0000004d;

    &:hover {
      color: black;
      background: white;
    }
  }

  @keyframes bob-fanger {
    0% {
      transform: translateX(2.5em) translateY(-55vh);
    }

    42.0% {
      transform: translateX(2.5em);
    }

    50.4% {
      transform: translateX(2.5em);
    }

    58.8% {
      transform: translateX(0);
    }
  }

  @keyframes b {
    0% {
      transform: translateX(0);
    }

    50.4% {
      transform: translateX(0);
    }

    61.3% {
      transform: translateX(-0.8em);
    }

    68.9% {
      transform: translateX(2.5em);
    }

    70.6% {
      transform: translateX(2.3em);
    }
  }

  @keyframes ob {
    0% {
      transform: translateX(0);
    }

    50.4% {
      transform: translateX(0);
    }

    61.3% {
      transform: translateX(-0.8em);
    }

    68.0% {
      transform: translateX(2.6em);
    }
  }

  @keyframes fanger {
    0% {
      transform: translateX(-0.3em);
    }

    65.5% {
      transform: translateX(-0.3em);
    }

    73.1% {
      transform: translateX(0);
    }
  }

  @keyframes nl {
    0% {
      transform: translateX(-2.1em);
    }

    68.9% {
      transform: translateX(-2.1em);
    }

    75.6% {
      transform: translateX(0.2em);
    }

    79.0% {
      transform: translateX(0);
    }
  }
</style>
