<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      var introResolve;
      var introPromise = new Promise((resolve) => {
        introResolve = resolve;
      });
    </script>
    %sveltekit.head%
  </head>
  <body>
    <img
      id="bg"
      class="background"
      style="opacity: 0; will-change: opacity"
      src="/images/millennial-colors.jpg"
      alt=""
      draggable="false"
    />
    <script>
      const bg = document.getElementById("bg");
      if (bg.complete) {
        bg.style.opacity = "1";
      } else {
        bg.addEventListener("load", function () {
          bg.style.opacity = "1";
        });
      }
      bg.addEventListener("transitionend", function () {
        bg.style.willChange = "";
      });
    </script>
    <svelte-app>%sveltekit.body%</svelte-app>
    <script type="module">
      document.addEventListener("DOMContentLoaded", () => {
        const introEnd = document.getElementById("introEnd");
        if (!introEnd) {
          introResolve(false);
          return;
        }
        introEnd.addEventListener("animationend", () => {
          introResolve(true);
        });
        const introSkip = document.getElementById("introSkip");
        introSkip?.addEventListener("click", ({ target }) => {
          if (getComputedStyle(target).opacity === "0") {
            target.style.opacity = 1;
          } else {
            introResolve("skip");
          }
        });
      });
    </script>
  </body>
</html>
