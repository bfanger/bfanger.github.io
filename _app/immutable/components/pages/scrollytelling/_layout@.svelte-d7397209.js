import{S,i as j,s as k,k as g,l as v,m as b,h as m,n as y,p,b as w,C as M,A as I,o as V,G as C,H as A,N as B,B as F,v as G,a as K,w as L,c as N,x as O,K as T,O as Y,D as z,E as J,F as P,f as D,t as E,y as Q,I as R}from"../../../chunks/index-aadf5176.js";import{g as H}from"../../../chunks/navigation-91c0e731.js";import{p as U}from"../../../chunks/stores-f440c10c.js";const{window:W}=C;function X(l){let s,n=`${l[0]*100}vh`,o,i;return{c(){s=g("div"),this.h()},l(t){s=v(t,"DIV",{class:!0}),b(s).forEach(m),this.h()},h(){y(s,"class","scroller"),p(s,"height",n,!1)},m(t,a){w(t,s,a),o||(i=M(W,"scroll",l[1]),o=!0)},p(t,[a]){a&1&&n!==(n=`${t[0]*100}vh`)&&p(s,"height",n,!1)},i:I,o:I,d(t){t&&m(s),o=!1,i()}}}function Z(l,s,n){let o,{max:i}=s,{value:t}=s;t!==0&&V(()=>{window.scrollTo(0,document.body.scrollHeight*(t/o))});function a(){const f=window.scrollY/(document.body.offsetHeight-window.innerHeight);n(2,t=f*o)}return l.$$set=f=>{"max"in f&&n(3,i=f.max),"value"in f&&n(2,t=f.value)},l.$$.update=()=>{l.$$.dirty&8&&n(0,o=i)},[o,a,t,i]}class $ extends S{constructor(s){super(),j(this,s,Z,X,k,{max:3,value:2})}}function x(l){let s,n,o,i,t,a;function f(e){l[6](e)}let _={max:l[0].teasers.length};l[1]!==void 0&&(_.value=l[1]),s=new $({props:_}),A.push(()=>B(s,"value",f));const d=l[5].default,r=F(d,l,l[4],null);return{c(){G(s.$$.fragment),o=K(),i=g("div"),t=g("div"),r&&r.c(),this.h()},l(e){L(s.$$.fragment,e),o=N(e),i=v(e,"DIV",{class:!0});var u=b(i);t=v(u,"DIV",{class:!0});var c=b(t);r&&r.l(c),c.forEach(m),u.forEach(m),this.h()},h(){y(t,"class","current svelte-9bqym7"),p(t,"top",l[3](l[2].params.project,l[1]),!1),y(i,"class","viewport svelte-9bqym7")},m(e,u){O(s,e,u),w(e,o,u),w(e,i,u),T(i,t),r&&r.m(t,null),a=!0},p(e,[u]){const c={};u&1&&(c.max=e[0].teasers.length),!n&&u&2&&(n=!0,c.value=e[1],Y(()=>n=!1)),s.$set(c),r&&r.p&&(!a||u&16)&&z(r,d,e,e[4],a?P(d,e[4],u,null):J(e[4]),null),u&6&&p(t,"top",e[3](e[2].params.project,e[1]),!1)},i(e){a||(D(s.$$.fragment,e),D(r,e),a=!0)},o(e){E(s.$$.fragment,e),E(r,e),a=!1},d(e){Q(s,e),e&&m(o),e&&m(i),r&&r.d(e)}}}function ee(l,s,n){let o;R(l,U,e=>n(2,o=e));let{$$slots:i={},$$scope:t}=s,{data:a}=s,_=a.teasers.findIndex(e=>e.slug===o.params.project);function d(e,u){const c=a.teasers.findIndex(q=>q.slug===e),h=u-c;return h<-.5?H(`/scrollytelling/${a.teasers[c+Math.floor(h)].slug}`,{noscroll:!0}):h>.5&&H(`/scrollytelling/${a.teasers[c+Math.ceil(h)].slug}`,{noscroll:!0}),`${h*-100}vh`}function r(e){_=e,n(1,_)}return l.$$set=e=>{"data"in e&&n(0,a=e.data),"$$scope"in e&&n(4,t=e.$$scope)},[a,_,o,d,t,i,r]}class ae extends S{constructor(s){super(),j(this,s,ee,x,k,{data:0})}}export{ae as default};
