import{b as h,e as m,aw as E,a1 as b,ax as T,ay as g,h as l,l as d,az as w,k,a4 as y,w as M,L as v,T as A,W as _,U as N,G as p,aA as x,I as F}from"./2utecpSq.js";function C(r){var t=document.createElement("template");return t.innerHTML=r.replaceAll("<!>","<!---->"),t.content}function c(r,t){var e=b;e.nodes_start===null&&(e.nodes_start=r,e.nodes_end=t)}function I(r,t){var e=(t&T)!==0,s=(t&g)!==0,a,i=!r.startsWith("<!>");return()=>{if(l)return c(d,null),d;a===void 0&&(a=C(i?r:"<!>"+r),e||(a=m(a)));var n=s||E?document.importNode(a,!0):a.cloneNode(!0);if(e){var f=m(n),o=n.lastChild;c(f,o)}else c(n,n);return n}}function O(r=""){if(!l){var t=h(r+"");return c(t,t),t}var e=d;return e.nodeType!==w&&(e.before(e=h()),k(e)),c(e,e),e}function P(){if(l)return c(d,null),d;var r=document.createDocumentFragment(),t=document.createComment(""),e=h();return r.append(t,e),c(t,e),r}function R(r,t){if(l){var e=b;((e.f&y)===0||e.nodes_end===null)&&(e.nodes_end=d),M();return}r!==null&&r.before(t)}class B{anchor;#t=new Map;#s=new Map;#e=new Map;#a=!0;constructor(t,e=!0){this.anchor=t,this.#a=e}#r=()=>{var t=v;if(this.#t.has(t)){var e=this.#t.get(t),s=this.#s.get(e);if(s)A(s);else{var a=this.#e.get(e);a&&(this.#s.set(e,a.effect),this.#e.delete(e),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[i,n]of this.#t){if(this.#t.delete(i),i===t)break;const f=this.#e.get(n);f&&(_(f.effect),this.#e.delete(n))}for(const[i,n]of this.#s){if(i===e)continue;const f=()=>{if(Array.from(this.#t.values()).includes(i)){var u=document.createDocumentFragment();x(n,u),u.append(h()),this.#e.set(i,{effect:n,fragment:u})}else _(n);this.#s.delete(i)};this.#a||!s?N(n,f,!1):f()}}};#n=t=>{this.#t.delete(t);const e=Array.from(this.#t.values());for(const[s,a]of this.#e)e.includes(s)||(_(a.effect),this.#e.delete(s))};ensure(t,e){var s=v,a=F();if(e&&!this.#s.has(t)&&!this.#e.has(t))if(a){var i=document.createDocumentFragment(),n=h();i.append(n),this.#e.set(t,{effect:p(()=>e(n)),fragment:i})}else this.#s.set(t,p(()=>e(this.anchor)));if(this.#t.set(s,t),a){for(const[f,o]of this.#s)f===t?s.skipped_effects.delete(o):s.skipped_effects.add(o);for(const[f,o]of this.#e)f===t?s.skipped_effects.delete(o.effect):s.skipped_effects.add(o.effect);s.oncommit(this.#r),s.ondiscard(this.#n)}else l&&(this.anchor=d),this.#r()}}const D="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(D);export{B,R as a,c as b,P as c,C as d,I as f,O as t};
