import{N as Y,h as w,Y as B,Z as H,_ as P,k,a0 as q}from"./BT0z8Yw2.js";import{i as z,c as D,d as G,n as K,e as Z}from"./CFCplBPZ.js";import{c as j}from"./lIS-YuR3.js";import{s as F}from"./CfY9cz96.js";import{s as J}from"./DlEUdvuJ.js";function Q(s,i){if(i){const t=document.body;s.autofocus=!0,Y(()=>{document.activeElement===t&&s.focus()})}}const h=Symbol("class"),d=Symbol("style"),T=Symbol("is custom element"),I=Symbol("is html");function W(s,i){i?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function E(s,i,t,f){var l=M(s);w&&(l[i]=s.getAttribute(i),i==="src"||i==="srcset"||i==="href"&&s.nodeName==="LINK")||l[i]!==(l[i]=t)&&(i==="loading"&&(s[B]=t),t==null?s.removeAttribute(i):typeof t!="string"&&C(s).includes(i)?s[i]=t:s.setAttribute(i,t))}function ts(s,i,t,f,l=!1){var _=M(s),v=_[T],$=!_[I];let p=w&&v;p&&k(!1);var e=i||{},g=s.tagName==="OPTION";for(var A in i)A in t||(t[A]=null);t.class?t.class=j(t.class):t.class=null,t[d]&&(t.style??(t.style=null));var O=C(s);for(const o in t){let a=t[o];if(g&&o==="value"&&a==null){s.value=s.__value="",e[o]=a;continue}if(o==="class"){var R=s.namespaceURI==="http://www.w3.org/1999/xhtml";F(s,R,a,f,i==null?void 0:i[h],t[h]),e[o]=a,e[h]=t[h];continue}if(o==="style"){J(s,a,i==null?void 0:i[d],t[d]),e[o]=a,e[d]=t[d];continue}var b=e[o];if(a!==b){e[o]=a;var S=o[0]+o[1];if(S!=="$$")if(S==="on"){const r={},n="$$"+o;let u=o.slice(2);var y=Z(u);if(z(u)&&(u=u.slice(0,-7),r.capture=!0),!y&&b){if(a!=null)continue;s.removeEventListener(u,e[n],r),e[n]=null}if(a!=null)if(y)s[`__${u}`]=a,G([u]);else{let U=function(V){e[o].call(this,V)};e[n]=D(u,s,U,r)}else y&&(s[`__${u}`]=void 0)}else if(o==="style")E(s,o,a);else if(o==="autofocus")Q(s,!!a);else if(!v&&(o==="__value"||o==="value"&&a!=null))s.value=s.__value=a;else if(o==="selected"&&g)W(s,a);else{var c=o;$||(c=K(c));var N=c==="defaultValue"||c==="defaultChecked";if(a==null&&!v&&!N)if(_[o]=null,c==="value"||c==="checked"){let r=s;const n=i===void 0;if(c==="value"){let u=r.defaultValue;r.removeAttribute(c),r.defaultValue=u,r.value=r.__value=n?u:null}else{let u=r.defaultChecked;r.removeAttribute(c),r.defaultChecked=u,r.checked=n?u:!1}}else s.removeAttribute(o);else N||O.includes(c)&&(v||typeof a!="string")?s[c]=a:typeof a!="function"&&E(s,c,a)}}}return p&&k(!0),e}function M(s){return s.__attributes??(s.__attributes={[T]:s.nodeName.includes("-"),[I]:s.namespaceURI===H})}var L=new Map;function C(s){var i=L.get(s.nodeName);if(i)return i;L.set(s.nodeName,i=[]);for(var t,f=s,l=Element.prototype;l!==f;){t=q(f);for(var _ in t)t[_].set&&i.push(_);f=P(f)}return i}export{ts as a,E as s};
