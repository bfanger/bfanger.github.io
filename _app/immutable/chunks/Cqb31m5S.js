import{T as m,b as H,O,y as R,a2 as Y,G as F,ad as Z,ae as J,af as Q,h as T,ag as W,ah as X,ai as x,aj as ee,g as te,ak as se,k as $,al as re,am as ae}from"./Dta-Ywbb.js";import{i as ie,c as fe,d as ue,n as oe,b as le}from"./C0aQR7rx.js";import{c as ce,s as ne,a as _e}from"./BXdxuS43.js";function de(e,t){if(t){const s=document.body;e.autofocus=!0,m(()=>{document.activeElement===s&&e.focus()})}}let U=!1;function ve(){U||(U=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function he(e,t){var s=void 0,i;H(()=>{s!==(s=t())&&(i&&(O(i),i=null),s&&(i=R(()=>{Y(()=>s(e))})))})}function C(e,t,s=!1){if(e.multiple){if(t==null)return;if(!F(t))return Z();for(var i of e.options)i.selected=t.includes(V(i));return}for(i of e.options){var f=V(i);if(J(f,t)){i.selected=!0;return}}(!s||t!==void 0)&&(e.selectedIndex=-1)}function be(e){var t=new MutationObserver(()=>{C(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{t.disconnect()})}function V(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),k=Symbol("style"),B=Symbol("is custom element"),D=Symbol("is html");function ye(e){if(T){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var i=e.value;I(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var f=e.checked;I(e,"checked",null),e.checked=f}}};e.__on_r=s,m(s),ve()}}function ge(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function I(e,t,s,i){var f=G(e);T&&(f[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||f[t]!==(f[t]=s)&&(t==="loading"&&(e[W]=s),s==null?e.removeAttribute(t):typeof s!="string"&&K(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function pe(e,t,s,i,f=!1,E=!1){if(T&&f&&e.tagName==="INPUT"){var v=e,L=v.type==="checkbox"?"defaultChecked":"defaultValue";L in s||ye(v)}var h=G(e),_=h[B],b=!h[D];let g=T&&_;g&&$(!1);var u=t||{},p=e.tagName==="OPTION";for(var d in t)d in s||(s[d]=null);s.class?s.class=ce(s.class):s.class=null,s[k]&&(s.style??=null);var N=K(e);for(const r in s){let a=s[r];if(p&&r==="value"&&a==null){e.value=e.__value="",u[r]=a;continue}if(r==="class"){var A=e.namespaceURI==="http://www.w3.org/1999/xhtml";ne(e,A,a,i,t?.[S],s[S]),u[r]=a,u[S]=s[S];continue}if(r==="style"){_e(e,a,t?.[k],s[k]),u[r]=a,u[k]=s[k];continue}var c=u[r];if(!(a===c&&!(a===void 0&&e.hasAttribute(r)))){u[r]=a;var M=r[0]+r[1];if(M!=="$$")if(M==="on"){const n={},y="$$"+r;let o=r.slice(2);var w=le(o);if(ie(o)&&(o=o.slice(0,-7),n.capture=!0),!w&&c){if(a!=null)continue;e.removeEventListener(o,u[y],n),u[y]=null}if(a!=null)if(w)e[`__${o}`]=a,ue([o]);else{let q=function(z){u[r].call(this,z)};u[y]=fe(o,e,q,n)}else w&&(e[`__${o}`]=void 0)}else if(r==="style")I(e,r,a);else if(r==="autofocus")de(e,!!a);else if(!_&&(r==="__value"||r==="value"&&a!=null))e.value=e.__value=a;else if(r==="selected"&&p)ge(e,a);else{var l=r;b||(l=oe(l));var P=l==="defaultValue"||l==="defaultChecked";if(a==null&&!_&&!P)if(h[r]=null,l==="value"||l==="checked"){let n=e;const y=t===void 0;if(l==="value"){let o=n.defaultValue;n.removeAttribute(l),n.defaultValue=o,n.value=n.__value=y?o:null}else{let o=n.defaultChecked;n.removeAttribute(l),n.defaultChecked=o,n.checked=y?o:!1}}else e.removeAttribute(r);else P||N.includes(l)&&(_||typeof a!="string")?(e[l]=a,l in h&&(h[l]=re)):typeof a!="function"&&I(e,l,a)}}}return g&&$(!0),u}function Ne(e,t,s=[],i=[],f=[],E,v=!1,L=!1){ee(f,s,i,h=>{var _=void 0,b={},g=e.nodeName==="SELECT",u=!1;if(H(()=>{var d=t(...h.map(te)),N=pe(e,_,d,E,v,L);u&&g&&"value"in d&&C(e,d.value);for(let c of Object.getOwnPropertySymbols(b))d[c]||O(b[c]);for(let c of Object.getOwnPropertySymbols(d)){var A=d[c];c.description===se&&(!_||A!==_[c])&&(b[c]&&O(b[c]),b[c]=R(()=>he(e,()=>A))),N[c]=A}_=N}),g){var p=e;Y(()=>{C(p,_.value,!0),be(p)})}u=!0})}function G(e){return e.__attributes??={[B]:e.nodeName.includes("-"),[D]:e.namespaceURI===X}}var j=new Map;function K(e){var t=e.getAttribute("is")||e.nodeName,s=j.get(t);if(s)return s;j.set(t,s=[]);for(var i,f=e,E=Element.prototype;E!==f;){i=ae(f);for(var v in i)i[v].set&&s.push(v);f=x(f)}return s}export{Ne as a,I as s};
