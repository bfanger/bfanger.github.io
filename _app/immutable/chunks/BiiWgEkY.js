import{b as h,a3 as b,m,ax as g,ay as E,az as T,h as l,l as d,aA as k,k as w,aB as y,a5 as M,x,I as v,W as A,a1 as _,X as N,J as p,aC as C,K as F}from"./crR_otGq.js";function D(r){var t=document.createElement("template");return t.innerHTML=r.replaceAll("<!>","<!---->"),t.content}function c(r,t){var e=b;e.nodes===null&&(e.nodes={start:r,end:t,a:null,t:null})}function L(r,t){var e=(t&E)!==0,s=(t&T)!==0,a,i=!r.startsWith("<!>");return()=>{if(l)return c(d,null),d;a===void 0&&(a=D(i?r:"<!>"+r),e||(a=m(a)));var n=s||g?document.importNode(a,!0):a.cloneNode(!0);if(e){var f=m(n),o=n.lastChild;c(f,o)}else c(n,n);return n}}function O(r=""){if(!l){var t=h(r+"");return c(t,t),t}var e=d;return e.nodeType!==k?(e.before(e=h()),w(e)):y(e),c(e,e),e}function P(){if(l)return c(d,null),d;var r=document.createDocumentFragment(),t=document.createComment(""),e=h();return r.append(t,e),c(t,e),r}function R(r,t){if(l){var e=b;((e.f&M)===0||e.nodes.end===null)&&(e.nodes.end=d),x();return}r!==null&&r.before(t)}class S{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#r=!0;constructor(t,e=!0){this.anchor=t,this.#r=e}#n=()=>{var t=v;if(this.#t.has(t)){var e=this.#t.get(t),s=this.#s.get(e);if(s)A(s),this.#a.delete(e);else{var a=this.#e.get(e);a&&(this.#s.set(e,a.effect),this.#e.delete(e),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[i,n]of this.#t){if(this.#t.delete(i),i===t)break;const f=this.#e.get(n);f&&(_(f.effect),this.#e.delete(n))}for(const[i,n]of this.#s){if(i===e||this.#a.has(i))continue;const f=()=>{if(Array.from(this.#t.values()).includes(i)){var u=document.createDocumentFragment();C(n,u),u.append(h()),this.#e.set(i,{effect:n,fragment:u})}else _(n);this.#a.delete(i),this.#s.delete(i)};this.#r||!s?(this.#a.add(i),N(n,f,!1)):f()}}};#i=t=>{this.#t.delete(t);const e=Array.from(this.#t.values());for(const[s,a]of this.#e)e.includes(s)||(_(a.effect),this.#e.delete(s))};ensure(t,e){var s=v,a=F();if(e&&!this.#s.has(t)&&!this.#e.has(t))if(a){var i=document.createDocumentFragment(),n=h();i.append(n),this.#e.set(t,{effect:p(()=>e(n)),fragment:i})}else this.#s.set(t,p(()=>e(this.anchor)));if(this.#t.set(s,t),a){for(const[f,o]of this.#s)f===t?s.skipped_effects.delete(o):s.skipped_effects.add(o);for(const[f,o]of this.#e)f===t?s.skipped_effects.delete(o.effect):s.skipped_effects.add(o.effect);s.oncommit(this.#n),s.ondiscard(this.#i)}else l&&(this.anchor=d),this.#n()}}const B="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(B);export{S as B,R as a,c as b,P as c,D as d,L as f,O as t};
