import{x as h,P as m,ar as g,Q as b,as as E,at as T,h as u,m as d,au as k,k as w,d as M,w as v,D as y,K as _,F as x,q as p,av as A,v as D}from"./DrfILjJG.js";function N(r){var e=document.createElement("template");return e.innerHTML=r.replaceAll("<!>","<!---->"),e.content}function c(r,e){var t=b;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function C(r,e){var t=(e&E)!==0,s=(e&T)!==0,a,i=!r.startsWith("<!>");return()=>{if(u)return c(d,null),d;a===void 0&&(a=N(i?r:"<!>"+r),t||(a=m(a)));var n=s||g?document.importNode(a,!0):a.cloneNode(!0);if(t){var f=m(n),o=n.lastChild;c(f,o)}else c(n,n);return n}}function L(r=""){if(!u){var e=h(r+"");return c(e,e),e}var t=d;return t.nodeType!==k&&(t.before(t=h()),w(t)),c(t,t),t}function O(){if(u)return c(d,null),d;var r=document.createDocumentFragment(),e=document.createComment(""),t=h();return r.append(e,t),c(e,t),r}function B(r,e){if(u){b.nodes_end=d,M();return}r!==null&&r.before(e)}class I{anchor;#t=new Map;#s=new Map;#e=new Map;#a=!0;constructor(e,t=!0){this.anchor=e,this.#a=t}#r=()=>{var e=v;if(this.#t.has(e)){var t=this.#t.get(e),s=this.#s.get(t);if(s)y(s);else{var a=this.#e.get(t);a&&(this.#s.set(t,a.effect),this.#e.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[i,n]of this.#t){if(this.#t.delete(i),i===e)break;const f=this.#e.get(n);f&&(_(f.effect),this.#e.delete(n))}for(const[i,n]of this.#s){if(i===t)continue;const f=()=>{if(Array.from(this.#t.values()).includes(i)){var l=document.createDocumentFragment();A(n,l),l.append(h()),this.#e.set(i,{effect:n,fragment:l})}else _(n);this.#s.delete(i)};this.#a||!s?x(n,f,!1):f()}}};#n=e=>{this.#t.delete(e);const t=Array.from(this.#t.values());for(const[s,a]of this.#e)t.includes(s)||(_(a.effect),this.#e.delete(s))};ensure(e,t){var s=v,a=D();if(t&&!this.#s.has(e)&&!this.#e.has(e))if(a){var i=document.createDocumentFragment(),n=h();i.append(n),this.#e.set(e,{effect:p(()=>t(n)),fragment:i})}else this.#s.set(e,p(()=>t(this.anchor)));if(this.#t.set(s,e),a){for(const[f,o]of this.#s)f===e?s.skipped_effects.delete(o):s.skipped_effects.add(o);for(const[f,o]of this.#e)f===e?s.skipped_effects.delete(o.effect):s.skipped_effects.add(o.effect);s.oncommit(this.#r),s.ondiscard(this.#n)}else u&&(this.anchor=d),this.#r()}}const F="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(F);export{I as B,B as a,c as b,O as c,N as d,C as f,L as t};
