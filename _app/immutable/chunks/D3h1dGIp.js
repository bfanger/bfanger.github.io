import{S as L,E as q,a0 as x,a1 as z,a2 as B,a3 as M,a4 as P,a5 as U,a6 as R,a7 as j,T as G,n as k,Z as K}from"./Dta-Ywbb.js";import{a as W}from"./C0aQR7rx.js";const Z=()=>performance.now(),c={tick:t=>requestAnimationFrame(t),now:()=>Z(),tasks:new Set};function g(){const t=c.now();c.tasks.forEach(r=>{r.c(t)||(c.tasks.delete(r),r.f())}),c.tasks.size!==0&&c.tick(g)}function D(t){let r;return c.tasks.size===0&&c.tick(g),{promise:new Promise(a=>{c.tasks.add(r={c:t,f:a})}),abort(){c.tasks.delete(r)}}}function b(t,r){R(()=>{t.dispatchEvent(new CustomEvent(r))})}function H(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const r=t.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function C(t){const r={},a=t.split(";");for(const i of a){const[e,o]=i.split(":");if(!e||o===void 0)break;const f=H(e.trim());r[f]=o.trim()}return r}const J=t=>t;function X(t,r,a,i){var e=(t&P)!==0,o=(t&U)!==0,f=e&&o,l=(t&M)!==0,N=f?"both":e?"in":"out",v,d=r.inert,m=r.style.overflow,u,p;function h(){return R(()=>v??=a()(r,i?.()??{},{direction:N}))}var n={is_global:l,in(){if(r.inert=d,!e){p?.abort(),p?.reset?.();return}o||u?.abort(),b(r,"introstart"),u=F(r,h(),p,1,()=>{b(r,"introend"),u?.abort(),u=v=void 0,r.style.overflow=m})},out(T){if(!o){T?.(),v=void 0;return}r.inert=!0,b(r,"outrostart"),p=F(r,h(),u,0,()=>{b(r,"outroend"),T?.()})},stop:()=>{u?.abort(),p?.abort()}},_=L;if((_.transitions??=[]).push(n),e&&W){var w=l;if(!w){for(var s=_.parent;s&&(s.f&q)!==0;)for(;(s=s.parent)&&(s.f&x)===0;);w=!s||(s.f&z)!==0}w&&B(()=>{K(()=>n.in())})}}function F(t,r,a,i,e){var o=i===1;if(j(r)){var f,l=!1;return G(()=>{if(!l){var _=r({direction:o?"in":"out"});f=F(t,_,a,i,e)}}),{abort:()=>{l=!0,f?.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(a?.deactivate(),!r?.duration)return e(),{abort:k,deactivate:k,reset:k,t:()=>i};const{delay:N=0,css:v,tick:d,easing:m=J}=r;var u=[];if(o&&a===void 0&&(d&&d(0,1),v)){var p=C(v(0,1));u.push(p,p)}var h=()=>1-i,n=t.animate(u,{duration:N,fill:"forwards"});return n.onfinish=()=>{n.cancel();var _=a?.t()??1-i;a?.abort();var w=i-_,s=r.duration*Math.abs(w),T=[];if(s>0){var I=!1;if(v)for(var O=Math.ceil(s/16.666666666666668),A=0;A<=O;A+=1){var S=_+w*m(A/O),y=C(v(S,1-S));T.push(y),I||=y.overflow==="hidden"}I&&(t.style.overflow="hidden"),h=()=>{var E=n.currentTime;return _+w*m(E/s)},d&&D(()=>{if(n.playState!=="running")return!1;var E=h();return d(E,1-E),!0})}n=t.animate(T,{duration:s,fill:"forwards"}),n.onfinish=()=>{h=()=>i,d?.(i,1-i),e()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=k)},deactivate:()=>{e=k},reset:()=>{i===0&&d?.(1,0)},t:()=>h()}}export{D as l,c as r,X as t};
