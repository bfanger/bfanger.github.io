import{W as F,j,P as L,z,a1 as B,I as G,as as W,at as Z,a5 as J,k as S,au as Q,av as X,aw as x,ax as ee,g as se,ay as te,w as $,az as re,aA as ae,am as ie,aB as fe,a0 as ue,aC as oe,aD as le,aE as ce}from"./M1qROfWy.js";import{c as ne}from"./Co-1QMVx.js";import{s as _e}from"./B__D0ygY.js";import{s as de}from"./CJZPip-Q.js";function ve(e,s){if(s){const t=document.body;e.autofocus=!0,F(()=>{document.activeElement===t&&e.focus()})}}let m=!1;function he(){m||(m=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const s of e.target.elements)s.__on_r?.()})},{capture:!0}))}function be(e,s){var t=void 0,i;j(()=>{t!==(t=s())&&(i&&(L(i),i=null),t&&(i=z(()=>{B(()=>t(e))})))})}function C(e,s,t=!1){if(e.multiple){if(s==null)return;if(!G(s))return W();for(var i of e.options)i.selected=s.includes(U(i));return}for(i of e.options){var f=U(i);if(Z(f,s)){i.selected=!0;return}}(!t||s!==void 0)&&(e.selectedIndex=-1)}function ye(e){var s=new MutationObserver(()=>{C(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{s.disconnect()})}function U(e){return"__value"in e?e.__value:e.value}const N=Symbol("class"),A=Symbol("style"),D=Symbol("is custom element"),H=Symbol("is html");function ge(e){if(S){var s=!1,t=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var i=e.value;w(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var f=e.checked;w(e,"checked",null),e.checked=f}}};e.__on_r=t,oe(t),he()}}function pe(e,s){s?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function w(e,s,t,i){var f=R(e);S&&(f[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||f[s]!==(f[s]=t)&&(s==="loading"&&(e[Q]=t),t==null?e.removeAttribute(s):typeof t!="string"&&Y(e).includes(s)?e[s]=t:e.setAttribute(s,t))}function Ae(e,s,t,i,f=!1,k=!1){if(S&&f&&e.tagName==="INPUT"){var h=e,I=h.type==="checkbox"?"defaultChecked":"defaultValue";I in t||ge(h)}var _=R(e),d=_[D],E=!_[H];let y=S&&d;y&&$(!1);var u=s||{},v=e.tagName==="OPTION";for(var g in s)g in t||(t[g]=null);t.class?t.class=ne(t.class):t.class=null,t[A]&&(t.style??=null);var p=Y(e);for(const r in t){let a=t[r];if(v&&r==="value"&&a==null){e.value=e.__value="",u[r]=a;continue}if(r==="class"){var n=e.namespaceURI==="http://www.w3.org/1999/xhtml";_e(e,n,a,i,s?.[N],t[N]),u[r]=a,u[N]=t[N];continue}if(r==="style"){de(e,a,s?.[A],t[A]),u[r]=a,u[A]=t[A];continue}var O=u[r];if(!(a===O&&!(a===void 0&&e.hasAttribute(r)))){u[r]=a;var M=r[0]+r[1];if(M!=="$$")if(M==="on"){const c={},b="$$"+r;let o=r.slice(2);var T=le(o);if(re(o)&&(o=o.slice(0,-7),c.capture=!0),!T&&O){if(a!=null)continue;e.removeEventListener(o,u[b],c),u[b]=null}if(a!=null)if(T)e[`__${o}`]=a,ie([o]);else{let q=function(K){u[r].call(this,K)};u[b]=ae(o,e,q,c)}else T&&(e[`__${o}`]=void 0)}else if(r==="style")w(e,r,a);else if(r==="autofocus")ve(e,!!a);else if(!d&&(r==="__value"||r==="value"&&a!=null))e.value=e.__value=a;else if(r==="selected"&&v)pe(e,a);else{var l=r;E||(l=fe(l));var P=l==="defaultValue"||l==="defaultChecked";if(a==null&&!d&&!P)if(_[r]=null,l==="value"||l==="checked"){let c=e;const b=s===void 0;if(l==="value"){let o=c.defaultValue;c.removeAttribute(l),c.defaultValue=o,c.value=c.__value=b?o:null}else{let o=c.defaultChecked;c.removeAttribute(l),c.defaultChecked=o,c.checked=b?o:!1}}else e.removeAttribute(r);else P||p.includes(l)&&(d||typeof a!="string")?(e[l]=a,l in _&&(_[l]=ue)):typeof a!="function"&&w(e,l,a)}}}return y&&$(!0),u}function we(e,s,t=[],i=[],f,k=!1,h=!1){ee(t,i,I=>{var _=void 0,d={},E=e.nodeName==="SELECT",y=!1;if(j(()=>{var v=s(...I.map(se)),g=Ae(e,_,v,f,k,h);y&&E&&"value"in v&&C(e,v.value);for(let n of Object.getOwnPropertySymbols(d))v[n]||L(d[n]);for(let n of Object.getOwnPropertySymbols(v)){var p=v[n];n.description===te&&(!_||p!==_[n])&&(d[n]&&L(d[n]),d[n]=z(()=>be(e,()=>p))),g[n]=p}_=g}),E){var u=e;B(()=>{C(u,_.value,!0),ye(u)})}y=!0})}function R(e){return e.__attributes??={[D]:e.nodeName.includes("-"),[H]:e.namespaceURI===X}}var V=new Map;function Y(e){var s=e.getAttribute("is")||e.nodeName,t=V.get(s);if(t)return t;V.set(s,t=[]);for(var i,f=e,k=Element.prototype;k!==f;){i=ce(f);for(var h in i)i[h].set&&t.push(h);f=x(f)}return t}export{we as a,w as s};
