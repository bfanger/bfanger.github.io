import{B as Ye,c as R,a as z,f as L,t as He}from"../chunks/CjZM8wOh.js";import{h as Y,m as Le,d as Ve,b0 as ce,v as Ze,k as Ge,w as Xe,j as $,T as Je,U as ee,D as de,b1 as Ke,aD as Qe,b2 as $e,b3 as et,al as tt,ai as rt,a2 as Se,Z as ke,aB as Ae,b4 as st,_ as at,a8 as P,a9 as j,g as r,p as M,X as B,f as A,a as C,az as fe,s as k,t as V,c as I,r as E,ap as ve,u as y,aq as nt,n as it}from"../chunks/CozeksWj.js";import{s as ae}from"../chunks/HfIz7oUc.js";import{p as me,f as ge,g as ot,j as lt,d as Te,s as ut}from"../chunks/CJdf0jCO.js";import{i as q}from"../chunks/BA93r83C.js";import{r as Ie,e as ct}from"../chunks/ld5yJ74T.js";import{a as Ee,s as H}from"../chunks/DMfub73P.js";import{r as dt,l as ft,t as N}from"../chunks/tyHmGo2T.js";import{p as vt}from"../chunks/z-Oynwuo.js";import{P as te}from"../chunks/BRM92mfW.js";import{o as mt}from"../chunks/B_UgB974.js";import{i as he}from"../chunks/vK_o3JBb.js";import{w as Pe}from"../chunks/DPJSPM-W.js";import{s as gt,c as ht,N as wt,b as _t,d as bt,a as we}from"../chunks/aw_Z31nS.js";import{r as pt}from"../chunks/BMXAsbuw.js";import{s as _e}from"../chunks/BlRMdHn8.js";const yt=!0,be=0,re=1;function xt(s,e,t,n,a){Y&&Le();var i=rt,l=de(i),f=de(i),m=new Ye(s);Ve(()=>{var d=e(),c=!1;let _=Y&&ce(d)===(s.data===Ze);if(_&&(Ge(Xe()),$(!1)),ce(d)){var p=Ke(),u=!1;const g=h=>{if(!c){u=!0,p(!1),Qe.ensure(),Y&&$(!1);try{h()}finally{$e(),et||tt()}}};d.then(h=>{g(()=>{ee(l,h),m.ensure(re,n&&(v=>n(v,l)))})},h=>{g(()=>{if(ee(f,h),m.ensure(re,a&&(v=>a(v,f))),!a)throw f.v})}),Y?m.ensure(be,t):Je(()=>{u||g(()=>{m.ensure(be,t)})})}else ee(l,d),m.ensure(re,n&&(g=>n(g,l)));return _&&$(!0),()=>{c=!0}})}function zt(s,e,t){Se(()=>{var n=ke(()=>e(s,t?.())||{});if(t&&n?.update){var a=!1,i={};Ae(()=>{var l=t();st(l),a&&at(i,l)&&(i=l,n.update(l))}),a=!0}if(n?.destroy)return()=>n.destroy()})}class ne{#e=new WeakMap;#t;#s;static entries=new WeakMap;constructor(e){this.#s=e}observe(e,t){var n=this.#e.get(e)||new Set;return n.add(t),this.#e.set(e,n),this.#r().observe(e,this.#s),()=>{var a=this.#e.get(e);a.delete(t),a.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var t of e){ne.entries.set(t.target,t);for(var n of this.#e.get(t.target)||[])n(t)}}))}}var jt=new ne({box:"border-box"});function St(s,e,t){var n=jt.observe(s,()=>t(s[e]));Se(()=>(ke(()=>t(s[e])),n))}const ie=yt;function kt(s){return s}function pe(s){const e=s-1;return e*e*e+1}function se(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const n=e.map((a,i)=>se(s[i],a));return a=>n.map(i=>i(a))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(he(s)&&he(e)){const i=s.getTime(),f=e.getTime()-i;return m=>new Date(i+m*f)}const n=Object.keys(e),a={};return n.forEach(i=>{a[i]=se(s[i],e[i])}),i=>{const l={};return n.forEach(f=>{l[f]=a[f](i)}),l}}if(t==="number"){const n=e-s;return a=>s+a*n}return()=>e}class oe{#e;#t;#s;#r=null;constructor(e,t={}){this.#e=P(e),this.#t=P(e),this.#s=t}static of(e,t){const n=new oe(e(),t);return Ae(()=>{n.set(e())}),n}set(e,t){j(this.#t,e);let{delay:n=0,duration:a=400,easing:i=kt,interpolate:l=se}={...this.#s,...t};if(a===0)return this.#r?.abort(),j(this.#e,e),Promise.resolve();const f=dt.now()+n;let m,d=!1,c=this.#r;return this.#r=ft(_=>{if(_<f)return!0;if(!d){d=!0;const u=this.#e.v;m=l(u,e),typeof a=="function"&&(a=a(u,e)),c?.abort()}const p=_-f;return p>a?(j(this.#e,e),!1):(j(this.#e,m(i(p/a))),!0)}),this.#r.promise}get current(){return r(this.#e)}get target(){return r(this.#t)}set target(e){this.set(e)}}var At=L('<div class="scroller svelte-1k9wlrq"></div> <div class="size svelte-1k9wlrq"></div>',1);function Tt(s,e){M(e,!0);let t=me(e,"value",15),n=me(e,"move",15),a=P(0),i=P(void 0),l,f=Date.now(),m=t();t()!==0&&mt(()=>{window.scrollTo({top:r(a)*t(),behavior:"instant"})}),n(async v=>{let x=Math.round(r(i)?.target??t())+v;r(i)||j(i,new oe(t(),{duration:300,easing:pe}),!0);const b=r(i);await r(i).set(x,{duration:300,easing:pe}),r(i)===b&&window.scrollTo({top:r(a)*x,behavior:"instant"}),j(i,void 0)});function d(){const v=window.scrollY/(r(a)*e.max);t(v*e.max)}function c(){d(),m!==t()?(f=Date.now(),m=t(),l=requestAnimationFrame(c)):Date.now()-f<1e3?l=requestAnimationFrame(c):l=void 0}function _(){f=Date.now(),j(i,void 0),d(),l||(l=requestAnimationFrame(c))}function p(){d(),l&&(cancelAnimationFrame(l),l=void 0)}B(()=>{r(i)&&t(r(i).current)});var u=R();ge("scroll",fe,_),ge("scrollend",fe,p);var g=A(u);{var h=v=>{var x=At(),b=A(x);let D;var F=k(b,2);V(()=>D=Ee(b,"",D,{height:`${e.max*100}svh`})),St(F,"clientHeight",Z=>j(a,Z)),z(v,x)};q(g,v=>{v(h)})}z(s,u),C()}function It(s,e){let t=ye(e),n,a,i=!0;function l({box:m}){n=new ResizeObserver(([d])=>{let c;m==="border-box"?c=d.borderBoxSize:m==="device-pixel-content-box"?c=d.devicePixelContentBoxSize:c=d.contentBoxSize,t.set(Array.isArray(c)?c[0]:c),i=!1}),n.observe(s,{box:m}),a=t.subscribe(d=>{i||s.dispatchEvent(new CustomEvent("has-resized",{detail:d}))})}function f(){n.disconnect(),a()}return l(xe(e)),{update(m){i=!0,t=ye(m),f(),l(xe(m))},destroy(){f()}}}function ye(s){if(typeof s=="object"){if(s.subscribe)return s;if(s.store)return s.store}return Pe({inlineSize:0,blockSize:0})}function xe(s){if(typeof s>"u"||s.subscribe)return{};const{store:e,...t}=s;return t}var Et=L("<div><!></div>");function ze(s,e){M(e,!0);const t=()=>ot(l,"$size",n),[n,a]=lt(),i=16,l=Pe({inlineSize:0,blockSize:0});function f(u,g){const h=window.innerHeight,v=h/2;if(u>1)return-g;if(u<-1)return h;if(u>.5){const b=(u-.5)*2;return-g+v-v*b}if(u<-.5){const b=(u+1.5)*2-1;return h-v*b}const x=u+.5;return v-g*x}function m(u,g){if(g===0)return"";let h=1;if(u>.75&&u<1){const v=(u-.75)*4;h=1-v*v*.2}if(u<-.5&&u>-1){const v=(u+.5)*-2;h=1-v*v*.3}return`translateY(${f(u,g+i)}px) scale(${h})`}var d=Et();let c,_;var p=I(d);ae(p,()=>e.children),E(d),zt(d,(u,g)=>It?.(u,g),()=>l),V(u=>{c=H(d,1,"item svelte-65plo",null,c,{ssr:!ie}),d.inert=e.inert,_=Ee(d,"",_,u)},[()=>({transform:m(e.scroll,t().blockSize)})]),z(s,d),C(),a()}var Pt=L('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function je(s,e){M(e,!0);var t=Pt();let n;t.__click=f=>{f.preventDefault(),e.move(e.direction==="up"?-1:1)};var a=I(t);let i;var l=k(a);E(t),V(f=>{n=H(t,1,"scroll-arrow svelte-18ta0lw",null,n,{up:e.direction==="up",down:e.direction==="down"}),_e(t,"href",f),_e(t,"aria-label",e.direction==="up"?"Vorige":"Volgende"),i=H(a,1,"arrow svelte-18ta0lw",null,i,{"start-rotated":ie}),ut(l,` ${e.title??""}`)},[()=>Ie("/projects/[project]",{project:e.slug})]),N(3,t,()=>gt,()=>({duration:200})),z(s,t),C()}Te(["click"]);var Dt=L('<!> <div><!> <!></div> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function Ot(s,e){M(e,!0);const t=i(vt.params.project??""),n=ve({});let a=P(ve(t));function i(o){return e.teasers.findIndex(w=>w.slug===o)}function l(o){const w=i(o);return n[w]||(n[w]=fetch(`/projects/${o}.json`).then(S=>S.json())),n[w]}let f;function m(o){clearTimeout(f),f=setTimeout(()=>{const{slug:w}=e.teasers[o],S=`/projects/${w}`;window.location.pathname!==S&&pt(Ie("/projects/[project]",{project:w}),{scroll:o})},100)}function d(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}let c=y(()=>Math.round(r(a))),_=y(()=>e.teasers[r(c)-1]),p=y(()=>e.teasers[r(c)]),u=y(()=>e.teasers[r(c)+1]),g=P(()=>Promise.resolve());B(()=>{r(p)&&l(r(p).slug)}),B(()=>{r(u)&&l(r(u).slug)}),B(()=>{r(_)&&l(r(_).slug)});let h=y(()=>[r(c)-1,r(c),r(c)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==t));B(()=>{m(r(c))});var v=Dt(),x=A(v);Tt(x,{get max(){return e.teasers.length},get value(){return r(a)},set value(o){j(a,o,!0)},get move(){return r(g)},set move(o){j(g,o,!0)}});var b=k(x,2);let D;var F=I(b);ct(F,16,()=>r(h),o=>o,(o,w)=>{{let S=y(()=>r(a)-w),J=y(()=>w!==r(c));ze(o,{get scroll(){return r(S)},get inert(){return r(J)},children:(le,K)=>{var U=R(),Me=A(U);xt(Me,()=>n[w],Q=>{{let W=y(()=>d(e.teasers[w]));te(Q,{get project(){return r(W)}})}},(Q,W)=>{var ue=R(),Ce=A(ue);{var Fe=T=>{te(T,{get project(){return r(W)}})},Ue=T=>{{let We=y(()=>d(e.teasers[w]));te(T,{get project(){return r(We)}})}};q(Ce,T=>{r(W)?T(Fe):T(Ue,!1)})}z(Q,ue)}),z(le,U)},$$slots:{default:!0}})}});var Z=k(F,2);{var De=o=>{{let w=y(()=>r(a)-t),S=y(()=>t!==r(c));ze(o,{get scroll(){return r(w)},get inert(){return r(S)},children:(J,le)=>{var K=R(),U=A(K);ae(U,()=>e.children),z(J,K)},$$slots:{default:!0}})}};q(Z,o=>{t>r(c)-2&&t<r(c)+2&&o(De)})}E(b);var O=k(b,2);O.__mousedown=()=>{ht.set("right")};var Oe=I(O);wt(Oe,{href:"/portfolio",type:"previous",children:(o,w)=>{nt();var S=He("Portfolio");z(o,S)},$$slots:{default:!0}}),E(O);var G=k(O,2),X=I(G),Be=I(X);{var qe=o=>{je(o,{get slug(){return r(_).slug},get title(){return r(_).title},direction:"up",get move(){return r(g)}})};q(Be,o=>{r(_)&&o(qe)})}E(X);var Ne=k(X,2);{var Re=o=>{je(o,{get slug(){return r(u).slug},get title(){return r(u).title},direction:"down",get move(){return r(g)}})};q(Ne,o=>{r(u)&&o(Re)})}E(G),V(()=>D=H(b,1,"viewport svelte-1l59ohf",null,D,{ssr:!ie})),N(5,b,()=>_t,()=>({})),N(6,b,()=>bt,()=>({})),N(6,O,()=>we,()=>({duration:200})),N(6,G,()=>we,()=>({duration:200})),z(s,v),C()}Te(["mousedown"]);function Jt(s,e){M(e,!0),Ot(s,{get teasers(){return e.data.teasers},children:(t,n)=>{var a=R(),i=A(a);ae(i,()=>e.children??it),z(t,a)},$$slots:{default:!0}}),C()}export{Jt as component};
