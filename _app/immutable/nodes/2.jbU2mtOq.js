import{B as He,c as H,a as p,f as M,t as Le}from"../chunks/BcVte1uB.js";import{h as k,A as Me,j as Re,b8 as oe,G as qe,m as ze,D as Ge,l as F,z as Ue,K as J,aH as Ve,b9 as Ke,ba as We,al as Xe,X as le,bb as Ye,bc as Ze,bd as Fe,a7 as Je,O as Qe,w as $e,ap as L,x as et,aj as y,g as i,p as R,a8 as U,f as P,a as q,c as b,r as j,t as te,y as tt,s as D,b0 as ue,aq as rt,u as E,n as at}from"../chunks/lWxA7woT.js";import{s as V}from"../chunks/Bo0vJfHF.js";import{p as ce,d as we,s as st,b as ye}from"../chunks/DIoBXm32.js";import{i as x}from"../chunks/BAYYAX3d.js";import{r as be,e as nt}from"../chunks/BglK9Cmn.js";import{r as it,l as ot,t as C}from"../chunks/BQh-LHRD.js";import{p as lt}from"../chunks/CYQSc1nu.js";import{s as N,P as Q}from"../chunks/BFibr7Bc.js";import{t as ut,s as fe}from"../chunks/B6wTssC4.js";import{i as ve}from"../chunks/vK_o3JBb.js";import{s as ct,N as ft,b as vt,d as dt,c as ht,a as de}from"../chunks/C9Nphf3e.js";import{r as mt}from"../chunks/5rqqTuJA.js";import{B as gt}from"../chunks/CoG0geaG.js";import{s as he}from"../chunks/CThnK4Tg.js";const me=0,ge=1,pt=2;function _t(a,e,r,s,t){k&&Me();var n=Ye,u=le(n),l=le(n),d=new He(a);Re(()=>{var m=e(),h=!1;let c=k&&oe(m)===(a.data===qe);if(c&&(ze(Ge()),F(!1)),oe(m)){var f=Ze(),w=!1;const _=g=>{if(!h){w=!0,f(!1),Ve.ensure(),k&&F(!1);try{g()}finally{Ke(!1),We||Xe()}}};m.then(g=>{_(()=>{J(u,g),d.ensure(ge,s&&(O=>s(O,u)))})},g=>{_(()=>{if(J(l,g),d.ensure(pt,t&&(O=>t(O,l))),!t)throw l.v})}),k?d.ensure(me,r):Ue(()=>{w||_(()=>{d.ensure(me,r)})})}else J(u,m),d.ensure(ge,s&&(_=>s(_,u)));return c&&F(!0),()=>{h=!0}})}function wt(a,e){var r=void 0,s;Fe(()=>{r!==(r=e())&&(s&&(Je(s),s=null),r&&(s=Qe(()=>{$e(()=>r(a))})))})}function $(a,e={},r,s){for(var t in r){var n=r[t];e[t]!==n&&(r[t]==null?a.style.removeProperty(t):a.style.setProperty(t,n,s))}}function je(a,e,r,s){var t=a.__style;if(k||t!==e){var n=ut(e,s);(!k||n!==a.getAttribute("style"))&&(n==null?a.removeAttribute("style"):a.style.cssText=n),a.__style=e}else s&&(Array.isArray(s)?($(a,r?.[0],s[0]),$(a,r?.[1],s[1],"important")):$(a,r,s));return s}function yt(a){return a}function bt(a){const e=a-1;return e*e*e+1}function ee(a,e){if(a===e||a!==a)return()=>a;const r=typeof a;if(r!==typeof e||Array.isArray(a)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){const s=e.map((t,n)=>ee(a[n],t));return t=>s.map(n=>n(t))}if(r==="object"){if(!a||!e)throw new Error("Object cannot be null");if(ve(a)&&ve(e)){const n=a.getTime(),l=e.getTime()-n;return d=>new Date(n+d*l)}const s=Object.keys(e),t={};return s.forEach(n=>{t[n]=ee(a[n],e[n])}),n=>{const u={};return s.forEach(l=>{u[l]=t[l](n)}),u}}if(r==="number"){const s=e-a;return t=>a+t*s}return()=>e}class re{#e;#r;#a;#t=null;constructor(e,r={}){this.#e=L(e),this.#r=L(e),this.#a=r}static of(e,r){const s=new re(e(),r);return et(()=>{s.set(e())}),s}set(e,r){y(this.#r,e);let{delay:s=0,duration:t=400,easing:n=yt,interpolate:u=ee}={...this.#a,...r};if(t===0)return this.#t?.abort(),y(this.#e,e),Promise.resolve();const l=it.now()+s;let d,m=!1,h=this.#t;return this.#t=ot(c=>{if(c<l)return!0;if(!m){m=!0;const w=this.#e.v;d=u(w,e),typeof t=="function"&&(t=t(w,e)),h?.abort()}const f=c-l;return f>t?(y(this.#e,e),!1):(y(this.#e,d(n(f/t))),!0)}),this.#t.promise}get current(){return i(this.#e)}get target(){return i(this.#r)}set target(e){this.set(e)}}var jt=M('<div class="scroller svelte-1k9wlrq"><!></div>');function At(a,e){R(e,!0);let r=ce(e,"value",15),s=ce(e,"move",15),t=L(void 0),n;s(async h=>{let c=Math.round(i(t)?.target??r())+h,f=200;i(t)||(y(t,new re(r(),{easing:bt}),!0),f=400),await i(t).set(c,{duration:f}),y(t,void 0)});function u(){!n||i(t)||r(Math.round(n.scrollTop/(N.height*e.max)*e.max))}U(()=>{i(t)&&(n.scrollTop=i(t).current*N.height,r(Math.round(i(t).current)))}),U(()=>{n&&N.height>1&&(n.scrollTop=tt(()=>r()*N.height))});var l=H(),d=P(l);{var m=h=>{var c=jt();let f;var w=b(c);V(w,()=>e.children),j(c),wt(c,()=>_=>(n=_.parentElement,n.addEventListener("scroll",u,{passive:!0}),()=>{n.removeEventListener("scroll",u)})),te(()=>f=je(c,"",f,{height:`${e.max*N.height}px`})),p(h,c)};x(d,h=>{h(m)})}p(a,l),q()}var Tt=M('<div class="item svelte-65plo"><div class="svelte-65plo"><!></div></div>');function pe(a,e){R(e,!0);var r=Tt();let s;var t=b(r),n=b(t);V(n,()=>e.children),j(t),j(r),te(()=>{r.inert=e.inert,s=je(r,"",s,{top:`${e.index*N.height}px`})}),p(a,r),q()}var Et=M('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function _e(a,e){R(e,!0);var r=Et();let s;var t=b(r);let n;var u=D(t);j(r),te(l=>{s=fe(r,1,"scroll-arrow svelte-18ta0lw",null,s,{up:e.direction==="up",down:e.direction==="down"}),he(r,"href",l),he(r,"aria-label",e.direction==="up"?"Vorige":"Volgende"),n=fe(t,1,"arrow svelte-18ta0lw",null,n,{"start-rotated":gt}),st(u,` ${e.title??""}`)},[()=>be("/projects/[project]",{project:e.slug})]),ye("click",r,l=>{l.preventDefault(),e.move(e.direction==="up"?-1:1)}),C(3,r,()=>ct,()=>({duration:200})),p(a,r),q()}we(["click"]);var Pt=M("<!> <!>",1),It=M('<div class="viewport svelte-1l59ohf"><!></div> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function St(a,e){R(e,!0);const r=n(lt.params.project??""),s=ue({});let t=L(ue(r));function n(o){return e.teasers.findIndex(v=>v.slug===o)}function u(o){const v=n(o);return s[v]||(s[v]=fetch(`/projects/${o}.json`).then(I=>I.json())),s[v]}let l;function d(o){clearTimeout(l),l=setTimeout(()=>{const{slug:v}=e.teasers[o],I=`/projects/${v}`;window.location.pathname!==I&&mt(be("/projects/[project]",{project:v}),{scroll:o})},100)}function m(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}U(()=>{e.teasers.slice(i(t)-1,i(t)+2).forEach(o=>{u(o.slug)})});let h=E(()=>e.teasers[i(t)-1]),c=E(()=>e.teasers[i(t)+1]),f=L(()=>Promise.resolve()),w=E(()=>[i(t)-1,i(t),i(t)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==r));U(()=>{d(i(t))});var _=It(),g=P(_),O=b(g);{var Ae=o=>{At(o,{get max(){return e.teasers.length},get value(){return i(t)},set value(v){y(t,v,!0)},get move(){return i(f)},set move(v){y(f,v,!0)},children:(v,I)=>{var ae=Pt(),se=P(ae);nt(se,16,()=>i(w),A=>A,(A,T)=>{{let X=E(()=>T!==i(t));pe(A,{get index(){return T},get inert(){return i(X)},children:(ne,Y)=>{var z=H(),ke=P(z);_t(ke,()=>s[T],Z=>{{let G=E(()=>m(e.teasers[T]));Q(Z,{get project(){return i(G)}})}},(Z,G)=>{var ie=H(),Oe=P(ie);{var Be=S=>{Q(S,{get project(){return i(G)}})},De=S=>{{let Ce=E(()=>m(e.teasers[T]));Q(S,{get project(){return i(Ce)}})}};x(Oe,S=>{i(G)?S(Be):S(De,!1)})}p(Z,ie)}),p(ne,z)},$$slots:{default:!0}})}});var xe=D(se,2);{var Ne=A=>{{let T=E(()=>r!==i(t));pe(A,{get index(){return r},get inert(){return i(T)},children:(X,ne)=>{var Y=H(),z=P(Y);V(z,()=>e.children),p(X,Y)},$$slots:{default:!0}})}};x(xe,A=>{r>i(t)-2&&r<i(t)+2&&A(Ne)})}p(v,ae)},$$slots:{default:!0}})};x(O,o=>{o(Ae,!1)})}j(g);var B=D(g,2),Te=b(B);ft(Te,{href:"/portfolio",type:"previous",children:(o,v)=>{rt();var I=Le("Portfolio");p(o,I)},$$slots:{default:!0}}),j(B);var K=D(B,2),W=b(K),Ee=b(W);{var Pe=o=>{_e(o,{get slug(){return i(h).slug},get title(){return i(h).title},direction:"up",get move(){return i(f)}})};x(Ee,o=>{i(h)&&o(Pe)})}j(W);var Ie=D(W,2);{var Se=o=>{_e(o,{get slug(){return i(c).slug},get title(){return i(c).title},direction:"down",get move(){return i(f)}})};x(Ie,o=>{i(c)&&o(Se)})}j(K),C(5,g,()=>vt,()=>({})),C(6,g,()=>dt,()=>({})),ye("mousedown",B,()=>{ht.set("right")}),C(6,B,()=>de,()=>({duration:200})),C(6,K,()=>de,()=>({duration:200})),p(a,_),q()}we(["mousedown"]);function Vt(a,e){R(e,!0),St(a,{get teasers(){return e.data.teasers},children:(r,s)=>{var t=H(),n=P(t);V(n,()=>e.children??at),p(r,t)},$$slots:{default:!0}}),q()}export{Vt as component};
