import{B as Ve,c as D,a as x,f as U,t as Ge}from"../chunks/CsJs2omP.js";import{h as L,w as Ze,d as Fe,b0 as fe,B as Je,k as Ke,D as Qe,j as Q,v as Xe,_ as X,L as ve,b1 as $e,aD as et,b2 as tt,b3 as rt,af as st,au as at,m as ke,q as Te,o as Ie,b4 as nt,a2 as it,ai as S,ad as p,g as r,p as R,x as H,f as A,a as M,aj as ot,a$ as ge,t as V,c as E,r as P,s as z,ak as he,u as y,al as lt,n as ct}from"../chunks/DMnqe2cU.js";import{s as se}from"../chunks/7W9p8KPY.js";import{p as me,f as _e,e as ut,g as dt,d as Ae,s as ft}from"../chunks/BisPfddz.js";import{i as B}from"../chunks/Y6fVl_QK.js";import{r as Ee,e as vt}from"../chunks/Dubes3-P.js";import{s as W}from"../chunks/BvoCxkZQ.js";import{r as gt,l as ht,t as N}from"../chunks/CXHnUokZ.js";import{p as mt}from"../chunks/BMxDIusx.js";import{P as $}from"../chunks/BQbLIqF-.js";import{o as _t}from"../chunks/CWb04o_1.js";import{a as Pe,s as be}from"../chunks/B-gU1dI0.js";import{i as we}from"../chunks/vK_o3JBb.js";import{w as Oe}from"../chunks/1ZPoLK62.js";import{s as bt,c as wt,N as pt,b as yt,d as xt,a as pe}from"../chunks/tm3jdakV.js";import{r as jt}from"../chunks/q9U9pHoi.js";const zt=!0,ye=0,ee=1;function St(a,e,t,n,s){L&&Ze();var i=at,u=ve(i),d=ve(i),f=new Ve(a);Fe(()=>{var v=e(),h=!1;let c=L&&fe(v)===(a.data===Je);if(c&&(Ke(Qe()),Q(!1)),fe(v)){var _=$e(),l=!1;const g=m=>{if(!h){l=!0,_(!1),et.ensure(),L&&Q(!1);try{m()}finally{tt(),rt||st()}}};v.then(m=>{g(()=>{X(u,m),f.ensure(ee,n&&(w=>n(w,u)))})},m=>{g(()=>{if(X(d,m),f.ensure(ee,s&&(w=>s(w,d))),!s)throw d.v})}),L?f.ensure(ye,t):Xe(()=>{l||g(()=>{f.ensure(ye,t)})})}else X(u,v),f.ensure(ee,n&&(g=>n(g,u)));return c&&Q(!0),()=>{h=!0}})}function kt(a,e,t){ke(()=>{var n=Te(()=>e(a,t?.())||{});if(t&&n?.update){var s=!1,i={};Ie(()=>{var u=t();nt(u),s&&it(i,u)&&(i=u,n.update(u))}),s=!0}if(n?.destroy)return()=>n.destroy()})}class ae{#e=new WeakMap;#t;#s;static entries=new WeakMap;constructor(e){this.#s=e}observe(e,t){var n=this.#e.get(e)||new Set;return n.add(t),this.#e.set(e,n),this.#r().observe(e,this.#s),()=>{var s=this.#e.get(e);s.delete(t),s.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var t of e){ae.entries.set(t.target,t);for(var n of this.#e.get(t.target)||[])n(t)}}))}}var Tt=new ae({box:"border-box"});function It(a,e,t){var n=Tt.observe(a,()=>t(a[e]));ke(()=>(Te(()=>t(a[e])),n))}const ne=zt;function At(a){return a}function te(a){const e=a-1;return e*e*e+1}function re(a,e){if(a===e||a!==a)return()=>a;const t=typeof a;if(t!==typeof e||Array.isArray(a)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){const n=e.map((s,i)=>re(a[i],s));return s=>n.map(i=>i(s))}if(t==="object"){if(!a||!e)throw new Error("Object cannot be null");if(we(a)&&we(e)){const i=a.getTime(),d=e.getTime()-i;return f=>new Date(i+f*d)}const n=Object.keys(e),s={};return n.forEach(i=>{s[i]=re(a[i],e[i])}),i=>{const u={};return n.forEach(d=>{u[d]=s[d](i)}),u}}if(t==="number"){const n=e-a;return s=>a+s*n}return()=>e}class Y{#e;#t;#s;#r=null;constructor(e,t={}){this.#e=S(e),this.#t=S(e),this.#s=t}static of(e,t){const n=new Y(e(),t);return Ie(()=>{n.set(e())}),n}set(e,t){p(this.#t,e);let{delay:n=0,duration:s=400,easing:i=At,interpolate:u=re}={...this.#s,...t};if(s===0)return this.#r?.abort(),p(this.#e,e),Promise.resolve();const d=gt.now()+n;let f,v=!1,h=this.#r;return this.#r=ht(c=>{if(c<d)return!0;if(!v){v=!0;const l=this.#e.v;f=u(l,e),typeof s=="function"&&(s=s(l,e)),h?.abort()}const _=c-d;return _>s?(p(this.#e,e),!1):(p(this.#e,f(i(_/s))),!0)}),this.#r.promise}get current(){return r(this.#e)}get target(){return r(this.#t)}set target(e){this.set(e)}}var Et=U('<div class="scroller svelte-1k9wlrq"></div>');function Pt(a,e){R(e,!0);let t=me(e,"value",15),n=me(e,"move",15),s=S(void 0),i=S(void 0);t()!==0&&_t(async()=>{await ot(),window.scrollTo({top:e.screenHeight*t(),behavior:"instant"})}),n(async c=>{p(i,void 0);let _=Math.round(r(s)?.target??t())+c;r(s)||p(s,new Y(t(),{duration:400,easing:te}),!0);const l=r(s);await r(s).set(_,{duration:300,easing:te}),r(s)===l&&window.scrollTo({top:e.screenHeight*_,behavior:"instant"}),p(s,void 0)});function u(){p(s,void 0);const c=window.scrollY/(e.screenHeight*e.max)*e.max;r(i)||p(i,new Y(c,{duration:50,easing:te}),!0),r(i).set(c)}function d(){p(i,void 0)}H(()=>{r(i)?t(r(i).current):r(s)&&t(r(s).current)});var f=D();_e("scroll",ge,u),_e("scrollend",ge,d);var v=A(f);{var h=c=>{var _=Et();let l;V(()=>l=Pe(_,"",l,{height:`${e.max*e.screenHeight}px`})),x(c,_)};B(v,c=>{c(h)})}x(a,f),M()}function Ot(a,e){let t=xe(e),n,s,i=!0;function u({box:f}){n=new ResizeObserver(([v])=>{let h;f==="border-box"?h=v.borderBoxSize:f==="device-pixel-content-box"?h=v.devicePixelContentBoxSize:h=v.contentBoxSize,t.set(Array.isArray(h)?h[0]:h),i=!1}),n.observe(a,{box:f}),s=t.subscribe(v=>{i||a.dispatchEvent(new CustomEvent("has-resized",{detail:v}))})}function d(){n.disconnect(),s()}return u(je(e)),{update(f){i=!0,t=xe(f),d(),u(je(f))},destroy(){d()}}}function xe(a){if(typeof a=="object"){if(a.subscribe)return a;if(a.store)return a.store}return Oe({inlineSize:0,blockSize:0})}function je(a){if(typeof a>"u"||a.subscribe)return{};const{store:e,...t}=a;return t}var Ht=U("<div><!></div>");function ze(a,e){R(e,!0);const t=()=>ut(u,"$size",n),[n,s]=dt(),i=16,u=Oe({inlineSize:0,blockSize:0});function d(l,g){const m=e.screenHeight/2;if(l>1)return-g;if(l>.5){const k=(l-.5)*2;return-g+m-m*k}if(l<-.5){const k=(l+1.5)*2-1;return e.screenHeight-m*k}const w=l+.5;return m-g*w}function f(l,g){if(g===0)return"";let m=1;if(l>.75&&l<1){const w=(l-.75)*4;m=1-w*w*.2}if(l<-.5&&l>-1.5){const w=(l+.5)*-2;m=1-w*w*.3}return`translateY(${d(l,g+i)}px) scale(${m})`}var v=Ht();let h,c;var _=E(v);se(_,()=>e.children),P(v),kt(v,(l,g)=>Ot?.(l,g),()=>u),V(l=>{h=W(v,1,"item svelte-65plo",null,h,{ssr:!ne}),v.inert=e.inert,c=Pe(v,"",c,l)},[()=>({transform:f(e.scroll,t().blockSize)})]),x(a,v),M(),s()}var Bt=U('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function Se(a,e){R(e,!0);var t=Bt();let n;t.__click=d=>{d.preventDefault(),e.move(e.direction==="up"?-1:1)};var s=E(t);let i;var u=z(s);P(t),V(d=>{n=W(t,1,"scroll-arrow svelte-18ta0lw",null,n,{up:e.direction==="up",down:e.direction==="down"}),be(t,"href",d),be(t,"aria-label",e.direction==="up"?"Vorige":"Volgende"),i=W(s,1,"arrow svelte-18ta0lw",null,i,{"start-rotated":ne}),ft(u,` ${e.title??""}`)},[()=>Ee("/projects/[project]",{project:e.slug})]),N(3,t,()=>bt,()=>({duration:200})),x(a,t),M()}Ae(["click"]);var Nt=U('<div><!> <!></div> <div class="screen-height svelte-1l59ohf"></div> <!> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function Dt(a,e){R(e,!0);const t=u(mt.params.project??""),n=he({});let s=S(he(t)),i=S(1);function u(o){return e.teasers.findIndex(b=>b.slug===o)}function d(o){const b=u(o);return n[b]||(n[b]=fetch(`/projects/${o}.json`).then(j=>j.json())),n[b]}let f;function v(o){clearTimeout(f),f=setTimeout(()=>{const{slug:b}=e.teasers[o],j=`/projects/${b}`;window.location.pathname!==j&&jt(Ee("/projects/[project]",{project:b}),{scroll:o})},100)}function h(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}let c=y(()=>Math.round(r(s))),_=y(()=>e.teasers[r(c)-1]),l=y(()=>e.teasers[r(c)]),g=y(()=>e.teasers[r(c)+1]),m=S(()=>Promise.resolve());H(()=>{r(l)&&d(r(l).slug)}),H(()=>{r(g)&&d(r(g).slug)}),H(()=>{r(_)&&d(r(_).slug)});let w=y(()=>[r(c)-1,r(c),r(c)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==t));H(()=>{v(r(c))});var k=Nt(),T=A(k);let ie;var oe=E(T);vt(oe,16,()=>r(w),o=>o,(o,b)=>{{let j=y(()=>r(s)-b),F=y(()=>b!==r(c));ze(o,{get scroll(){return r(j)},get inert(){return r(F)},get screenHeight(){return r(i)},children:(ue,J)=>{var q=D(),Ce=A(q);St(Ce,()=>n[b],K=>{{let C=y(()=>h(e.teasers[b]));$(K,{get project(){return r(C)}})}},(K,C)=>{var de=D(),Le=A(de);{var We=I=>{$(I,{get project(){return r(C)}})},Ye=I=>{{let Ue=y(()=>h(e.teasers[b]));$(I,{get project(){return r(Ue)}})}};B(Le,I=>{r(C)?I(We):I(Ye,!1)})}x(K,de)}),x(ue,q)},$$slots:{default:!0}})}});var He=z(oe,2);{var Be=o=>{{let b=y(()=>r(s)-t),j=y(()=>t!==r(c));ze(o,{get scroll(){return r(b)},get inert(){return r(j)},get screenHeight(){return r(i)},children:(F,ue)=>{var J=D(),q=A(J);se(q,()=>e.children),x(F,J)},$$slots:{default:!0}})}};B(He,o=>{t>r(c)-2&&t<r(c)+2&&o(Be)})}P(T);var le=z(T,2),ce=z(le,2);Pt(ce,{get max(){return e.teasers.length},get screenHeight(){return r(i)},get value(){return r(s)},set value(o){p(s,o,!0)},get move(){return r(m)},set move(o){p(m,o,!0)}});var O=z(ce,2);O.__mousedown=()=>{wt.set("right")};var Ne=E(O);pt(Ne,{href:"/portfolio",type:"previous",children:(o,b)=>{lt();var j=Ge("Portfolio");x(o,j)},$$slots:{default:!0}}),P(O);var G=z(O,2),Z=E(G),De=E(Z);{var Re=o=>{Se(o,{get slug(){return r(_).slug},get title(){return r(_).title},direction:"up",get move(){return r(m)}})};B(De,o=>{r(_)&&o(Re)})}P(Z);var Me=z(Z,2);{var qe=o=>{Se(o,{get slug(){return r(g).slug},get title(){return r(g).title},direction:"down",get move(){return r(m)}})};B(Me,o=>{r(g)&&o(qe)})}P(G),V(()=>ie=W(T,1,"viewport svelte-1l59ohf",null,ie,{ssr:!ne})),N(5,T,()=>yt,()=>({})),N(6,T,()=>xt,()=>({})),It(le,"clientHeight",o=>p(i,o)),N(6,O,()=>pe,()=>({duration:200})),N(6,G,()=>pe,()=>({duration:200})),x(a,k),M()}Ae(["mousedown"]);function $t(a,e){R(e,!0),Dt(a,{get teasers(){return e.data.teasers},children:(t,n)=>{var s=D(),i=A(s);se(i,()=>e.children??ct),x(t,s)},$$slots:{default:!0}}),M()}export{$t as component};
