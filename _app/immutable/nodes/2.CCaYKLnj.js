import{B as ze,c as R,a as _,f as z,t as Ce}from"../chunks/LLdtIxv7.js";import{h as q,w as Le,d as qe,b0 as ue,B as We,k as Ue,D as Ve,j as J,v as Ge,R as K,Q as ce,b1 as Qe,aD as Ye,b2 as Ze,b3 as Fe,af as Je,au as Ke,m as Xe,q as $e,ai as O,o as et,ad as y,g as s,p as W,x as B,f as I,a as U,c as x,r as k,aj as tt,t as te,s as S,ak as ve,u as j,al as rt,n as st}from"../chunks/2utecpSq.js";import{s as V}from"../chunks/D9QkrnGo.js";import{p as de,d as ye,s as at}from"../chunks/CQbO3nRq.js";import{i as N}from"../chunks/DdZMI9ou.js";import{r as je,e as nt}from"../chunks/3q_KhVsr.js";import{r as it,l as ot,t as M}from"../chunks/C-TC2cCy.js";import{p as lt}from"../chunks/Bbz1NffF.js";import{P as X}from"../chunks/CmUnTJ3s.js";import{c as ut,a as xe,s as fe}from"../chunks/HrZLRDIu.js";import{i as ge}from"../chunks/vK_o3JBb.js";import{s as ct,c as vt,N as dt,b as ft,d as gt,a as he}from"../chunks/BtiPmpIi.js";import{r as ht}from"../chunks/Lyc5jhWY.js";import{s as me}from"../chunks/CwYW11HD.js";const mt=!0,_e=0,$=1;function _t(a,e,r,n,t){q&&Le();var i=Ke,u=ce(i),l=ce(i),v=new ze(a);qe(()=>{var m=e(),b=!1;let c=q&&ue(m)===(a.data===We);if(c&&(Ue(Ve()),J(!1)),ue(m)){var d=Qe(),g=!1;const h=w=>{if(!b){g=!0,d(!1),Ye.ensure(),q&&J(!1);try{w()}finally{Ze(),Fe||Je()}}};m.then(w=>{h(()=>{K(u,w),v.ensure($,n&&(p=>n(p,u)))})},w=>{h(()=>{if(K(l,w),v.ensure($,t&&(p=>t(p,l))),!t)throw l.v})}),q?v.ensure(_e,r):Ge(()=>{g||h(()=>{v.ensure(_e,r)})})}else K(u,m),v.ensure($,n&&(h=>n(h,u)));return c&&J(!0),()=>{b=!0}})}class re{#e=new WeakMap;#t;#s;static entries=new WeakMap;constructor(e){this.#s=e}observe(e,r){var n=this.#e.get(e)||new Set;return n.add(r),this.#e.set(e,n),this.#r().observe(e,this.#s),()=>{var t=this.#e.get(e);t.delete(r),t.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var r of e){re.entries.set(r.target,r);for(var n of this.#e.get(r.target)||[])n(r)}}))}}var bt=new re({box:"border-box"});function wt(a,e,r){var n=bt.observe(a,()=>r(a[e]));Xe(()=>($e(()=>r(a[e])),n))}const pt=mt;function yt(a){return a}function be(a){const e=a-1;return e*e*e+1}function ee(a,e){if(a===e||a!==a)return()=>a;const r=typeof a;if(r!==typeof e||Array.isArray(a)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){const n=e.map((t,i)=>ee(a[i],t));return t=>n.map(i=>i(t))}if(r==="object"){if(!a||!e)throw new Error("Object cannot be null");if(ge(a)&&ge(e)){const i=a.getTime(),l=e.getTime()-i;return v=>new Date(i+v*l)}const n=Object.keys(e),t={};return n.forEach(i=>{t[i]=ee(a[i],e[i])}),i=>{const u={};return n.forEach(l=>{u[l]=t[l](i)}),u}}if(r==="number"){const n=e-a;return t=>a+t*n}return()=>e}class se{#e;#t;#s;#r=null;constructor(e,r={}){this.#e=O(e),this.#t=O(e),this.#s=r}static of(e,r){const n=new se(e(),r);return et(()=>{n.set(e())}),n}set(e,r){y(this.#t,e);let{delay:n=0,duration:t=400,easing:i=yt,interpolate:u=ee}={...this.#s,...r};if(t===0)return this.#r?.abort(),y(this.#e,e),Promise.resolve();const l=it.now()+n;let v,m=!1,b=this.#r;return this.#r=ot(c=>{if(c<l)return!0;if(!m){m=!0;const g=this.#e.v;v=u(g,e),typeof t=="function"&&(t=t(g,e)),b?.abort()}const d=c-l;return d>t?(y(this.#e,e),!1):(y(this.#e,v(i(d/t))),!0)}),this.#r.promise}get current(){return s(this.#e)}get target(){return s(this.#t)}set target(e){this.set(e)}}function jt(){const a=new AbortController;return{signal:a.signal,abort:()=>a.abort()}}var xt=z('<div class="scroller svelte-1k9wlrq"><!></div>');function kt(a,e){W(e,!0);let r=de(e,"value",15),n=de(e,"move",15),t=O(void 0),i;n(async c=>{let d=Math.round(s(t)?.target??r())+c;s(t)||y(t,new se(r(),{duration:400,easing:be}),!0),await s(t).set(d,{duration:300,easing:be}),y(t,void 0)});function u(){!i||s(t)||r(Math.round(i.scrollTop/(e.screenHeight*e.max)*e.max))}function l(){}B(()=>{s(t)&&(i.scrollTop=s(t).current*e.screenHeight,r(Math.round(s(t).current)))});var v=R(),m=I(v);{var b=c=>{var d=xt();let g;var h=x(d);V(h,()=>e.children),k(d),ut(d,()=>w=>{i=w.parentElement,tt().then(()=>{i.scrollTop=r()*e.screenHeight});const{signal:p,abort:T}=jt();return i.addEventListener("scroll",u,{passive:!0,signal:p}),i.addEventListener("scrollend",l,{passive:!0,signal:p}),T}),te(()=>g=xe(d,"",g,{height:`${e.max*e.screenHeight}px`})),_(c,d)};N(m,c=>{c(b)})}_(a,v),U()}var Tt=z('<div class="item svelte-65plo"><div><!></div></div>');function we(a,e){var r=Tt();let n;var t=x(r),i=x(t);V(i,()=>e.children),k(t),k(r),te(()=>{r.inert=e.inert,n=xe(r,"",n,{top:`${e.index*e.screenHeight}px`})}),_(a,r)}var Et=z('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function pe(a,e){W(e,!0);var r=Et();let n;r.__click=l=>{l.preventDefault(),e.move(e.direction==="up"?-1:1)};var t=x(r);let i;var u=S(t);k(r),te(l=>{n=me(r,1,"scroll-arrow svelte-18ta0lw",null,n,{up:e.direction==="up",down:e.direction==="down"}),fe(r,"href",l),fe(r,"aria-label",e.direction==="up"?"Vorige":"Volgende"),i=me(t,1,"arrow svelte-18ta0lw",null,i,{"start-rotated":pt}),at(u,` ${e.title??""}`)},[()=>je("/projects/[project]",{project:e.slug})]),M(3,r,()=>ct,()=>({duration:200})),_(a,r),U()}ye(["click"]);var Ht=z("<!> <!>",1),It=z('<div class="viewport svelte-1l59ohf"><div class="screen-height svelte-1l59ohf"></div> <!></div> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function Pt(a,e){W(e,!0);const r=u(lt.params.project??""),n=ve({});let t=O(ve(r)),i=O(1);function u(o){return e.teasers.findIndex(f=>f.slug===o)}function l(o){const f=u(o);return n[f]||(n[f]=fetch(`/projects/${o}.json`).then(P=>P.json())),n[f]}let v;function m(o){clearTimeout(v),v=setTimeout(()=>{const{slug:f}=e.teasers[o],P=`/projects/${f}`;window.location.pathname!==P&&ht(je("/projects/[project]",{project:f}),{scroll:o})},100)}function b(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}let c=j(()=>e.teasers[s(t)-1]),d=j(()=>e.teasers[s(t)]),g=j(()=>e.teasers[s(t)+1]),h=O(()=>Promise.resolve());B(()=>{s(d)&&l(s(d).slug)}),B(()=>{s(g)&&l(s(g).slug)}),B(()=>{s(c)&&l(s(c).slug)});let w=j(()=>[s(t)-1,s(t),s(t)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==r));B(()=>{m(s(t))});var p=It(),T=I(p),ae=x(T),ke=S(ae,2);{var Te=o=>{kt(o,{get max(){return e.teasers.length},get screenHeight(){return s(i)},get value(){return s(t)},set value(f){y(t,f,!0)},get move(){return s(h)},set move(f){y(h,f,!0)},children:(f,P)=>{var ne=Ht(),ie=I(ne);nt(ie,16,()=>s(w),E=>E,(E,H)=>{{let Y=j(()=>H!==s(t));we(E,{get index(){return H},get inert(){return s(Y)},get screenHeight(){return s(i)},children:(oe,Z)=>{var C=R(),Oe=I(C);_t(Oe,()=>n[H],F=>{{let L=j(()=>b(e.teasers[H]));X(F,{get project(){return s(L)}})}},(F,L)=>{var le=R(),De=I(le);{var Be=A=>{X(A,{get project(){return s(L)}})},Me=A=>{{let Re=j(()=>b(e.teasers[H]));X(A,{get project(){return s(Re)}})}};N(De,A=>{s(L)?A(Be):A(Me,!1)})}_(F,le)}),_(oe,C)}})}});var Se=S(ie,2);{var Ne=E=>{{let H=j(()=>r!==s(t));we(E,{get index(){return r},get inert(){return s(H)},get screenHeight(){return s(i)},children:(Y,oe)=>{var Z=R(),C=I(Z);V(C,()=>e.children),_(Y,Z)}})}};N(Se,E=>{r>s(t)-2&&r<s(t)+2&&E(Ne)})}_(f,ne)},$$slots:{default:!0}})};N(ke,o=>{o(Te,!1)})}k(T);var D=S(T,2);D.__mousedown=()=>{vt.set("right")};var Ee=x(D);dt(Ee,{href:"/portfolio",type:"previous",children:(o,f)=>{rt();var P=Ce("Portfolio");_(o,P)},$$slots:{default:!0}}),k(D);var G=S(D,2),Q=x(G),He=x(Q);{var Ie=o=>{pe(o,{get slug(){return s(c).slug},get title(){return s(c).title},direction:"up",get move(){return s(h)}})};N(He,o=>{s(c)&&o(Ie)})}k(Q);var Pe=S(Q,2);{var Ae=o=>{pe(o,{get slug(){return s(g).slug},get title(){return s(g).title},direction:"down",get move(){return s(h)}})};N(Pe,o=>{s(g)&&o(Ae)})}k(G),wt(ae,"clientHeight",o=>y(i,o)),M(5,T,()=>ft,()=>({})),M(6,T,()=>gt,()=>({})),M(6,D,()=>he,()=>({duration:200})),M(6,G,()=>he,()=>({duration:200})),_(a,p),U()}ye(["mousedown"]);function Vt(a,e){W(e,!0),Pt(a,{get teasers(){return e.data.teasers},children:(r,n)=>{var t=R(),i=I(t);V(i,()=>e.children??st),_(r,t)},$$slots:{default:!0}}),U()}export{Vt as component};
