import{B as Ye,c as D,a as z,f as L,t as Le}from"../chunks/DiimZOMp.js";import{h as U,d as Ve,b as Ze,b0 as ce,H as Ge,j as Xe,i as Fe,k as K,T as Je,U as Q,D as de,b1 as Ke,aC as Qe,b2 as $e,b3 as et,ao as tt,al as rt,a2 as je,Z as Se,aA as ke,b4 as st,_ as at,a8 as T,a9 as p,g as r,p as M,X as B,f as k,a as C,a$ as fe,s as S,t as V,c as E,r as P,as as ve,u as y,at as nt,n as it}from"../chunks/Dta-Ywbb.js";import{s as se}from"../chunks/CXs17yJQ.js";import{p as ge,f as he,e as ot,g as lt,d as Te,s as ut}from"../chunks/C0aQR7rx.js";import{i as N}from"../chunks/De-sZmO7.js";import{r as Ae,e as ct}from"../chunks/D9cWXABd.js";import{a as Ie,s as W}from"../chunks/BXdxuS43.js";import{r as dt,l as ft,t as R}from"../chunks/D3h1dGIp.js";import{p as vt}from"../chunks/DAAuM5Us.js";import{P as $}from"../chunks/dWwHI1_A.js";import{o as gt}from"../chunks/DHAmzvYu.js";import{i as me}from"../chunks/vK_o3JBb.js";import{w as Ee}from"../chunks/usbwRDXG.js";import{s as ht,c as mt,N as _t,b as bt,d as wt,a as _e}from"../chunks/Crjyo2v7.js";import{r as pt}from"../chunks/D0dsT0SF.js";import{s as be}from"../chunks/Cqb31m5S.js";const yt=!0,we=0,ee=1;function xt(s,e,t,n,a){U&&Ve();var i=rt,u=de(i),f=de(i),g=new Ye(s);Ze(()=>{var d=e(),c=!1;let w=U&&ce(d)===(s.data===Ge);if(w&&(Xe(Fe()),K(!1)),ce(d)){var m=Ke(),o=!1;const v=_=>{if(!c){o=!0,m(!1),Qe.ensure(),U&&K(!1);try{_()}finally{$e(),et||tt()}}};d.then(_=>{v(()=>{Q(u,_),g.ensure(ee,n&&(h=>n(h,u)))})},_=>{v(()=>{if(Q(f,_),g.ensure(ee,a&&(h=>a(h,f))),!a)throw f.v})}),U?g.ensure(we,t):Je(()=>{o||v(()=>{g.ensure(we,t)})})}else Q(u,d),g.ensure(ee,n&&(v=>n(v,u)));return w&&K(!0),()=>{c=!0}})}function zt(s,e,t){je(()=>{var n=Se(()=>e(s,t?.())||{});if(t&&n?.update){var a=!1,i={};ke(()=>{var u=t();st(u),a&&at(i,u)&&(i=u,n.update(u))}),a=!0}if(n?.destroy)return()=>n.destroy()})}class ae{#e=new WeakMap;#t;#s;static entries=new WeakMap;constructor(e){this.#s=e}observe(e,t){var n=this.#e.get(e)||new Set;return n.add(t),this.#e.set(e,n),this.#r().observe(e,this.#s),()=>{var a=this.#e.get(e);a.delete(t),a.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var t of e){ae.entries.set(t.target,t);for(var n of this.#e.get(t.target)||[])n(t)}}))}}var jt=new ae({box:"border-box"});function St(s,e,t){var n=jt.observe(s,()=>t(s[e]));je(()=>(Se(()=>t(s[e])),n))}const ne=yt;function kt(s){return s}function te(s){const e=s-1;return e*e*e+1}function re(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const n=e.map((a,i)=>re(s[i],a));return a=>n.map(i=>i(a))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(me(s)&&me(e)){const i=s.getTime(),f=e.getTime()-i;return g=>new Date(i+g*f)}const n=Object.keys(e),a={};return n.forEach(i=>{a[i]=re(s[i],e[i])}),i=>{const u={};return n.forEach(f=>{u[f]=a[f](i)}),u}}if(t==="number"){const n=e-s;return a=>s+a*n}return()=>e}class Y{#e;#t;#s;#r=null;constructor(e,t={}){this.#e=T(e),this.#t=T(e),this.#s=t}static of(e,t){const n=new Y(e(),t);return ke(()=>{n.set(e())}),n}set(e,t){p(this.#t,e);let{delay:n=0,duration:a=400,easing:i=kt,interpolate:u=re}={...this.#s,...t};if(a===0)return this.#r?.abort(),p(this.#e,e),Promise.resolve();const f=dt.now()+n;let g,d=!1,c=this.#r;return this.#r=ft(w=>{if(w<f)return!0;if(!d){d=!0;const o=this.#e.v;g=u(o,e),typeof a=="function"&&(a=a(o,e)),c?.abort()}const m=w-f;return m>a?(p(this.#e,e),!1):(p(this.#e,g(i(m/a))),!0)}),this.#r.promise}get current(){return r(this.#e)}get target(){return r(this.#t)}set target(e){this.set(e)}}var Tt=L('<div class="scroller svelte-1k9wlrq"></div> <div class="size svelte-1k9wlrq"></div>',1);function At(s,e){M(e,!0);let t=ge(e,"value",15),n=ge(e,"move",15),a=T(0),i=T(void 0),u=T(void 0);t()!==0&&gt(()=>{window.scrollTo({top:r(a)*t(),behavior:"instant"})}),n(async m=>{p(u,void 0);let o=Math.round(r(i)?.target??t())+m;r(i)||p(i,new Y(t(),{duration:400,easing:te}),!0);const v=r(i);await r(i).set(o,{duration:300,easing:te}),r(i)===v&&window.scrollTo({top:r(a)*o,behavior:"instant"}),p(i,void 0)});function f(){p(i,void 0);const m=window.scrollY/(r(a)*e.max)*e.max;r(u)||p(u,new Y(m,{duration:50,easing:te}),!0),r(u).set(m)}function g(){p(u,void 0)}B(()=>{r(u)?t(r(u).current):r(i)&&t(r(i).current)});var d=D();he("scroll",fe,f),he("scrollend",fe,g);var c=k(d);{var w=m=>{var o=Tt(),v=k(o);let _;var h=S(v,2);V(()=>_=Ie(v,"",_,{height:`${e.max*60}svh`})),St(h,"clientHeight",A=>p(a,A)),z(m,o)};N(c,m=>{m(w)})}z(s,d),C()}function It(s,e){let t=pe(e),n,a,i=!0;function u({box:g}){n=new ResizeObserver(([d])=>{let c;g==="border-box"?c=d.borderBoxSize:g==="device-pixel-content-box"?c=d.devicePixelContentBoxSize:c=d.contentBoxSize,t.set(Array.isArray(c)?c[0]:c),i=!1}),n.observe(s,{box:g}),a=t.subscribe(d=>{i||s.dispatchEvent(new CustomEvent("has-resized",{detail:d}))})}function f(){n.disconnect(),a()}return u(ye(e)),{update(g){i=!0,t=pe(g),f(),u(ye(g))},destroy(){f()}}}function pe(s){if(typeof s=="object"){if(s.subscribe)return s;if(s.store)return s.store}return Ee({inlineSize:0,blockSize:0})}function ye(s){if(typeof s>"u"||s.subscribe)return{};const{store:e,...t}=s;return t}var Et=L("<div><!></div>");function xe(s,e){M(e,!0);const t=()=>ot(u,"$size",n),[n,a]=lt(),i=16,u=Ee({inlineSize:0,blockSize:0});function f(o,v){const _=window.innerHeight,h=_/2;if(o>1)return-v;if(o<-1)return _;if(o>.5){const x=(o-.5)*2;return-v+h-h*x}if(o<-.5){const x=(o+1.5)*2-1;return _-h*x}const A=o+.5;return h-v*A}function g(o,v){if(v===0)return"";let _=1;if(o>.75&&o<1){const h=(o-.75)*4;_=1-h*h*.2}if(o<-.5&&o>-1){const h=(o+.5)*-2;_=1-h*h*.3}return`translateY(${f(o,v+i)}px) scale(${_})`}var d=Et();let c,w;var m=E(d);se(m,()=>e.children),P(d),zt(d,(o,v)=>It?.(o,v),()=>u),V(o=>{c=W(d,1,"item svelte-65plo",null,c,{ssr:!ne}),d.inert=e.inert,w=Ie(d,"",w,o)},[()=>({transform:g(e.scroll,t().blockSize)})]),z(s,d),C(),a()}var Pt=L('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function ze(s,e){M(e,!0);var t=Pt();let n;t.__click=f=>{f.preventDefault(),e.move(e.direction==="up"?-1:1)};var a=E(t);let i;var u=S(a);P(t),V(f=>{n=W(t,1,"scroll-arrow svelte-18ta0lw",null,n,{up:e.direction==="up",down:e.direction==="down"}),be(t,"href",f),be(t,"aria-label",e.direction==="up"?"Vorige":"Volgende"),i=W(a,1,"arrow svelte-18ta0lw",null,i,{"start-rotated":ne}),ut(u,` ${e.title??""}`)},[()=>Ae("/projects/[project]",{project:e.slug})]),R(3,t,()=>ht,()=>({duration:200})),z(s,t),C()}Te(["click"]);var Ot=L('<!> <div><!> <!></div> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function Bt(s,e){M(e,!0);const t=i(vt.params.project??""),n=ve({});let a=T(ve(t));function i(l){return e.teasers.findIndex(b=>b.slug===l)}function u(l){const b=i(l);return n[b]||(n[b]=fetch(`/projects/${l}.json`).then(j=>j.json())),n[b]}let f;function g(l){clearTimeout(f),f=setTimeout(()=>{const{slug:b}=e.teasers[l],j=`/projects/${b}`;window.location.pathname!==j&&pt(Ae("/projects/[project]",{project:b}),{scroll:l})},100)}function d(l){return{content:"",released:l.released,slug:l.slug,title:l.title}}let c=y(()=>Math.round(r(a))),w=y(()=>e.teasers[r(c)-1]),m=y(()=>e.teasers[r(c)]),o=y(()=>e.teasers[r(c)+1]),v=T(()=>Promise.resolve());B(()=>{r(m)&&u(r(m).slug)}),B(()=>{r(o)&&u(r(o).slug)}),B(()=>{r(w)&&u(r(w).slug)});let _=y(()=>[r(c)-1,r(c),r(c)+1].filter(l=>l>=0&&l<e.teasers.length&&l!==t));B(()=>{g(r(c))});var h=Ot(),A=k(h);At(A,{get max(){return e.teasers.length},get value(){return r(a)},set value(l){p(a,l,!0)},get move(){return r(v)},set move(l){p(v,l,!0)}});var x=S(A,2);let ie;var oe=E(x);ct(oe,16,()=>r(_),l=>l,(l,b)=>{{let j=y(()=>r(a)-b),X=y(()=>b!==r(c));xe(l,{get scroll(){return r(j)},get inert(){return r(X)},children:(le,F)=>{var q=D(),Ce=k(q);xt(Ce,()=>n[b],J=>{{let H=y(()=>d(e.teasers[b]));$(J,{get project(){return r(H)}})}},(J,H)=>{var ue=D(),qe=k(ue);{var He=I=>{$(I,{get project(){return r(H)}})},Ue=I=>{{let We=y(()=>d(e.teasers[b]));$(I,{get project(){return r(We)}})}};N(qe,I=>{r(H)?I(He):I(Ue,!1)})}z(J,ue)}),z(le,q)},$$slots:{default:!0}})}});var Pe=S(oe,2);{var Oe=l=>{{let b=y(()=>r(a)-t),j=y(()=>t!==r(c));xe(l,{get scroll(){return r(b)},get inert(){return r(j)},children:(X,le)=>{var F=D(),q=k(F);se(q,()=>e.children),z(X,F)},$$slots:{default:!0}})}};N(Pe,l=>{t>r(c)-2&&t<r(c)+2&&l(Oe)})}P(x);var O=S(x,2);O.__mousedown=()=>{mt.set("right")};var Be=E(O);_t(Be,{href:"/portfolio",type:"previous",children:(l,b)=>{nt();var j=Le("Portfolio");z(l,j)},$$slots:{default:!0}}),P(O);var Z=S(O,2),G=E(Z),Ne=E(G);{var Re=l=>{ze(l,{get slug(){return r(w).slug},get title(){return r(w).title},direction:"up",get move(){return r(v)}})};N(Ne,l=>{r(w)&&l(Re)})}P(G);var De=S(G,2);{var Me=l=>{ze(l,{get slug(){return r(o).slug},get title(){return r(o).title},direction:"down",get move(){return r(v)}})};N(De,l=>{r(o)&&l(Me)})}P(Z),V(()=>ie=W(x,1,"viewport svelte-1l59ohf",null,ie,{ssr:!ne})),R(5,x,()=>bt,()=>({})),R(6,x,()=>wt,()=>({})),R(6,O,()=>_e,()=>({duration:200})),R(6,Z,()=>_e,()=>({duration:200})),z(s,h),C()}Te(["mousedown"]);function Jt(s,e){M(e,!0),Bt(s,{get teasers(){return e.data.teasers},children:(t,n)=>{var a=D(),i=k(a);se(i,()=>e.children??it),z(t,a)},$$slots:{default:!0}}),C()}export{Jt as component};
