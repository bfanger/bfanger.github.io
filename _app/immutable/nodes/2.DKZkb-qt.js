import{B as Oe,c as L,a as _,f as R,t as Le}from"../chunks/BiiWgEkY.js";import{h as U,x as Me,e as Re,b8 as ie,B as qe,k as Ce,D as Ge,j as J,w as He,G as K,aF as Ue,b9 as Ve,ba as ze,ad as Fe,Q as le,av as Qe,bb as We,ah as M,q as Ye,ab as y,g as a,p as q,y as V,f as k,a as C,c as j,r as b,t as te,v as Ze,s as D,b0 as ue,ai as Je,u as T,n as Ke}from"../chunks/crR_otGq.js";import{s as z}from"../chunks/WOz2B7iA.js";import{p as ce,d as pe,s as Xe}from"../chunks/C3bjOpXW.js";import{i as A}from"../chunks/B__EghOo.js";import{r as we,e as $e}from"../chunks/D5Yn7DFr.js";import{r as et,l as tt,t as O}from"../chunks/Cve8xCjE.js";import{p as rt}from"../chunks/Rr-shSJ_.js";import{s as S,P as X}from"../chunks/rqftMZRe.js";import{b as at,c as ye,s as de}from"../chunks/D__OZ-H1.js";import{i as fe}from"../chunks/vK_o3JBb.js";import{s as st,c as nt,N as ot,b as it,d as lt,a as ve}from"../chunks/CFe4jfAr.js";import{r as ut}from"../chunks/3EXgZ_7p.js";import{s as he}from"../chunks/BPrw1hOt.js";const ct=!0,me=0,$=1;function dt(n,e,r,i,t){U&&Me();var s=Qe,u=le(s),l=le(s),v=new Oe(n);Re(()=>{var m=e(),h=!1;let c=U&&ie(m)===(n.data===qe);if(c&&(Ce(Ge()),J(!1)),ie(m)){var d=We(),w=!1;const p=g=>{if(!h){w=!0,d(!1),Ue.ensure(),U&&J(!1);try{g()}finally{Ve(),ze||Fe()}}};m.then(g=>{p(()=>{K(u,g),v.ensure($,i&&(N=>i(N,u)))})},g=>{p(()=>{if(K(l,g),v.ensure($,t&&(N=>t(N,l))),!t)throw l.v})}),U?v.ensure(me,r):He(()=>{w||p(()=>{v.ensure(me,r)})})}else K(u,m),v.ensure($,i&&(p=>i(p,u)));return c&&J(!0),()=>{h=!0}})}function ft(n){return n}function vt(n){const e=n-1;return e*e*e+1}function ee(n,e){if(n===e||n!==n)return()=>n;const r=typeof n;if(r!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const i=e.map((t,s)=>ee(n[s],t));return t=>i.map(s=>s(t))}if(r==="object"){if(!n||!e)throw new Error("Object cannot be null");if(fe(n)&&fe(e)){const s=n.getTime(),l=e.getTime()-s;return v=>new Date(s+v*l)}const i=Object.keys(e),t={};return i.forEach(s=>{t[s]=ee(n[s],e[s])}),s=>{const u={};return i.forEach(l=>{u[l]=t[l](s)}),u}}if(r==="number"){const i=e-n;return t=>n+t*i}return()=>e}class re{#e;#r;#a;#t=null;constructor(e,r={}){this.#e=M(e),this.#r=M(e),this.#a=r}static of(e,r){const i=new re(e(),r);return Ye(()=>{i.set(e())}),i}set(e,r){y(this.#r,e);let{delay:i=0,duration:t=400,easing:s=ft,interpolate:u=ee}={...this.#a,...r};if(t===0)return this.#t?.abort(),y(this.#e,e),Promise.resolve();const l=et.now()+i;let v,m=!1,h=this.#t;return this.#t=tt(c=>{if(c<l)return!0;if(!m){m=!0;const w=this.#e.v;v=u(w,e),typeof t=="function"&&(t=t(w,e)),h?.abort()}const d=c-l;return d>t?(y(this.#e,e),!1):(y(this.#e,v(s(d/t))),!0)}),this.#t.promise}get current(){return a(this.#e)}get target(){return a(this.#r)}set target(e){this.set(e)}}var ht=R('<div class="scroller svelte-1k9wlrq"><!></div>');function mt(n,e){q(e,!0);let r=ce(e,"value",15),i=ce(e,"move",15),t=M(void 0),s;i(async h=>{let c=Math.round(a(t)?.target??r())+h,d=200;a(t)||(y(t,new re(r(),{easing:vt}),!0),d=400),await a(t).set(c,{duration:d}),y(t,void 0)});function u(){!s||a(t)||r(Math.round(s.scrollTop/(S.height*e.max)*e.max))}V(()=>{a(t)&&(s.scrollTop=a(t).current*S.height,r(Math.round(a(t).current)))}),V(()=>{s&&S.height>1&&(s.scrollTop=Ze(()=>r()*S.height))});var l=L(),v=k(l);{var m=h=>{var c=ht();let d;var w=j(c);z(w,()=>e.children),b(c),at(c,()=>p=>(s=p.parentElement,s.addEventListener("scroll",u,{passive:!0}),()=>{s.removeEventListener("scroll",u)})),te(()=>d=ye(c,"",d,{height:`${e.max*S.height}px`})),_(h,c)};A(v,h=>{h(m)})}_(n,l),C()}var gt=R('<div class="item svelte-65plo"><div class="svelte-65plo"><!></div></div>');function ge(n,e){q(e,!0);var r=gt();let i;var t=j(r),s=j(t);z(s,()=>e.children),b(t),b(r),te(()=>{r.inert=e.inert,i=ye(r,"",i,{top:`${e.index*S.height}px`})}),_(n,r),C()}var _t=R('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function _e(n,e){q(e,!0);var r=_t();let i;r.__click=l=>{l.preventDefault(),e.move(e.direction==="up"?-1:1)};var t=j(r);let s;var u=D(t);b(r),te(l=>{i=he(r,1,"scroll-arrow svelte-18ta0lw",null,i,{up:e.direction==="up",down:e.direction==="down"}),de(r,"href",l),de(r,"aria-label",e.direction==="up"?"Vorige":"Volgende"),s=he(t,1,"arrow svelte-18ta0lw",null,s,{"start-rotated":ct}),Xe(u,` ${e.title??""}`)},[()=>we("/projects/[project]",{project:e.slug})]),O(3,r,()=>st,()=>({duration:200})),_(n,r),C()}pe(["click"]);var pt=R("<!> <!>",1),wt=R('<div class="viewport svelte-1l59ohf"><!></div> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function yt(n,e){q(e,!0);const r=s(rt.params.project??""),i=ue({});let t=M(ue(r));function s(o){return e.teasers.findIndex(f=>f.slug===o)}function u(o){const f=s(o);return i[f]||(i[f]=fetch(`/projects/${o}.json`).then(I=>I.json())),i[f]}let l;function v(o){clearTimeout(l),l=setTimeout(()=>{const{slug:f}=e.teasers[o],I=`/projects/${f}`;window.location.pathname!==I&&ut(we("/projects/[project]",{project:f}),{scroll:o})},100)}function m(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}V(()=>{e.teasers.slice(a(t)-1,a(t)+2).forEach(o=>{u(o.slug)})});let h=T(()=>e.teasers[a(t)-1]),c=T(()=>e.teasers[a(t)+1]),d=M(()=>Promise.resolve()),w=T(()=>[a(t)-1,a(t),a(t)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==r));V(()=>{v(a(t))});var p=wt(),g=k(p),N=j(g);{var je=o=>{mt(o,{get max(){return e.teasers.length},get value(){return a(t)},set value(f){y(t,f,!0)},get move(){return a(d)},set move(f){y(d,f,!0)},children:(f,I)=>{var ae=pt(),se=k(ae);$e(se,16,()=>a(w),x=>x,(x,E)=>{{let W=T(()=>E!==a(t));ge(x,{get index(){return E},get inert(){return a(W)},children:(ne,Y)=>{var G=L(),Ae=k(G);dt(Ae,()=>i[E],Z=>{{let H=T(()=>m(e.teasers[E]));X(Z,{get project(){return a(H)}})}},(Z,H)=>{var oe=L(),Se=k(oe);{var Ne=P=>{X(P,{get project(){return a(H)}})},Be=P=>{{let De=T(()=>m(e.teasers[E]));X(P,{get project(){return a(De)}})}};A(Se,P=>{a(H)?P(Ne):P(Be,!1)})}_(Z,oe)}),_(ne,G)},$$slots:{default:!0}})}});var Ie=D(se,2);{var Pe=x=>{{let E=T(()=>r!==a(t));ge(x,{get index(){return r},get inert(){return a(E)},children:(W,ne)=>{var Y=L(),G=k(Y);z(G,()=>e.children),_(W,Y)},$$slots:{default:!0}})}};A(Ie,x=>{r>a(t)-2&&r<a(t)+2&&x(Pe)})}_(f,ae)},$$slots:{default:!0}})};A(N,o=>{o(je,!1)})}b(g);var B=D(g,2);B.__mousedown=()=>{nt.set("right")};var be=j(B);ot(be,{href:"/portfolio",type:"previous",children:(o,f)=>{Je();var I=Le("Portfolio");_(o,I)},$$slots:{default:!0}}),b(B);var F=D(B,2),Q=j(F),xe=j(Q);{var Ee=o=>{_e(o,{get slug(){return a(h).slug},get title(){return a(h).title},direction:"up",get move(){return a(d)}})};A(xe,o=>{a(h)&&o(Ee)})}b(Q);var Te=D(Q,2);{var ke=o=>{_e(o,{get slug(){return a(c).slug},get title(){return a(c).title},direction:"down",get move(){return a(d)}})};A(Te,o=>{a(c)&&o(ke)})}b(F),O(5,g,()=>it,()=>({})),O(6,g,()=>lt,()=>({})),O(6,B,()=>ve,()=>({duration:200})),O(6,F,()=>ve,()=>({duration:200})),_(n,p),C()}pe(["mousedown"]);function Lt(n,e){q(e,!0),yt(n,{get teasers(){return e.data.teasers},children:(r,i)=>{var t=L(),s=k(t);z(s,()=>e.children??Ke),_(r,t)},$$slots:{default:!0}}),C()}export{Lt as component};
