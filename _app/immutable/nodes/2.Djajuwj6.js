import{B as Ve,c as D,a as x,f as U,t as Ge}from"../chunks/CsJs2omP.js";import{h as L,w as Ze,d as Fe,b0 as fe,B as Je,k as Ke,D as Qe,j as Q,v as Xe,_ as X,L as ve,b1 as $e,aD as et,b2 as tt,b3 as rt,af as st,au as nt,m as ke,q as Te,o as Ie,b4 as at,a2 as it,ai as S,ad as p,g as r,p as R,x as H,f as A,a as M,a$ as ge,t as V,c as E,r as P,s as z,ak as he,u as y,al as ot,n as lt}from"../chunks/DMnqe2cU.js";import{s as se}from"../chunks/7W9p8KPY.js";import{p as me,f as _e,e as ct,g as ut,d as Ae,s as dt}from"../chunks/BisPfddz.js";import{i as B}from"../chunks/Y6fVl_QK.js";import{r as Ee,e as ft}from"../chunks/Bvj0YJYs.js";import{s as W}from"../chunks/BvoCxkZQ.js";import{r as vt,l as gt,t as N}from"../chunks/CXHnUokZ.js";import{p as ht}from"../chunks/0-vkqKF-.js";import{P as $}from"../chunks/BQbLIqF-.js";import{o as mt}from"../chunks/CWb04o_1.js";import{a as Pe,s as be}from"../chunks/B-gU1dI0.js";import{i as we}from"../chunks/vK_o3JBb.js";import{w as Oe}from"../chunks/1ZPoLK62.js";import{s as _t,c as bt,N as wt,b as pt,d as yt,a as pe}from"../chunks/tm3jdakV.js";import{r as xt}from"../chunks/Ccz6ampc.js";const jt=!0,ye=0,ee=1;function zt(n,e,t,a,s){L&&Ze();var i=nt,u=ve(i),d=ve(i),f=new Ve(n);Fe(()=>{var v=e(),h=!1;let c=L&&fe(v)===(n.data===Je);if(c&&(Ke(Qe()),Q(!1)),fe(v)){var _=$e(),l=!1;const g=m=>{if(!h){l=!0,_(!1),et.ensure(),L&&Q(!1);try{m()}finally{tt(),rt||st()}}};v.then(m=>{g(()=>{X(u,m),f.ensure(ee,a&&(w=>a(w,u)))})},m=>{g(()=>{if(X(d,m),f.ensure(ee,s&&(w=>s(w,d))),!s)throw d.v})}),L?f.ensure(ye,t):Xe(()=>{l||g(()=>{f.ensure(ye,t)})})}else X(u,v),f.ensure(ee,a&&(g=>a(g,u)));return c&&Q(!0),()=>{h=!0}})}function St(n,e,t){ke(()=>{var a=Te(()=>e(n,t?.())||{});if(t&&a?.update){var s=!1,i={};Ie(()=>{var u=t();at(u),s&&it(i,u)&&(i=u,a.update(u))}),s=!0}if(a?.destroy)return()=>a.destroy()})}class ne{#e=new WeakMap;#t;#s;static entries=new WeakMap;constructor(e){this.#s=e}observe(e,t){var a=this.#e.get(e)||new Set;return a.add(t),this.#e.set(e,a),this.#r().observe(e,this.#s),()=>{var s=this.#e.get(e);s.delete(t),s.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var t of e){ne.entries.set(t.target,t);for(var a of this.#e.get(t.target)||[])a(t)}}))}}var kt=new ne({box:"border-box"});function Tt(n,e,t){var a=kt.observe(n,()=>t(n[e]));ke(()=>(Te(()=>t(n[e])),a))}const ae=jt;function It(n){return n}function te(n){const e=n-1;return e*e*e+1}function re(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const a=e.map((s,i)=>re(n[i],s));return s=>a.map(i=>i(s))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(we(n)&&we(e)){const i=n.getTime(),d=e.getTime()-i;return f=>new Date(i+f*d)}const a=Object.keys(e),s={};return a.forEach(i=>{s[i]=re(n[i],e[i])}),i=>{const u={};return a.forEach(d=>{u[d]=s[d](i)}),u}}if(t==="number"){const a=e-n;return s=>n+s*a}return()=>e}class Y{#e;#t;#s;#r=null;constructor(e,t={}){this.#e=S(e),this.#t=S(e),this.#s=t}static of(e,t){const a=new Y(e(),t);return Ie(()=>{a.set(e())}),a}set(e,t){p(this.#t,e);let{delay:a=0,duration:s=400,easing:i=It,interpolate:u=re}={...this.#s,...t};if(s===0)return this.#r?.abort(),p(this.#e,e),Promise.resolve();const d=vt.now()+a;let f,v=!1,h=this.#r;return this.#r=gt(c=>{if(c<d)return!0;if(!v){v=!0;const l=this.#e.v;f=u(l,e),typeof s=="function"&&(s=s(l,e)),h?.abort()}const _=c-d;return _>s?(p(this.#e,e),!1):(p(this.#e,f(i(_/s))),!0)}),this.#r.promise}get current(){return r(this.#e)}get target(){return r(this.#t)}set target(e){this.set(e)}}var At=U('<div class="scroller svelte-1k9wlrq"></div>');function Et(n,e){R(e,!0);let t=me(e,"value",15),a=me(e,"move",15),s=S(void 0),i=S(void 0);t()!==0&&mt(()=>{window.scrollTo({top:e.screenHeight*t(),behavior:"instant"})}),a(async c=>{p(i,void 0);let _=Math.round(r(s)?.target??t())+c;r(s)||p(s,new Y(t(),{duration:400,easing:te}),!0);const l=r(s);await r(s).set(_,{duration:300,easing:te}),r(s)===l&&window.scrollTo({top:e.screenHeight*_,behavior:"instant"}),p(s,void 0)});function u(){p(s,void 0);const c=window.scrollY/(e.screenHeight*e.max)*e.max;r(i)||p(i,new Y(c,{duration:50,easing:te}),!0),r(i).set(c)}function d(){p(i,void 0)}H(()=>{r(i)?t(r(i).current):r(s)&&t(r(s).current)});var f=D();_e("scroll",ge,u),_e("scrollend",ge,d);var v=A(f);{var h=c=>{var _=At();let l;V(()=>l=Pe(_,"",l,{height:`${e.max*e.screenHeight}px`})),x(c,_)};B(v,c=>{c(h)})}x(n,f),M()}function Pt(n,e){let t=xe(e),a,s,i=!0;function u({box:f}){a=new ResizeObserver(([v])=>{let h;f==="border-box"?h=v.borderBoxSize:f==="device-pixel-content-box"?h=v.devicePixelContentBoxSize:h=v.contentBoxSize,t.set(Array.isArray(h)?h[0]:h),i=!1}),a.observe(n,{box:f}),s=t.subscribe(v=>{i||n.dispatchEvent(new CustomEvent("has-resized",{detail:v}))})}function d(){a.disconnect(),s()}return u(je(e)),{update(f){i=!0,t=xe(f),d(),u(je(f))},destroy(){d()}}}function xe(n){if(typeof n=="object"){if(n.subscribe)return n;if(n.store)return n.store}return Oe({inlineSize:0,blockSize:0})}function je(n){if(typeof n>"u"||n.subscribe)return{};const{store:e,...t}=n;return t}var Ot=U("<div><!></div>");function ze(n,e){R(e,!0);const t=()=>ct(u,"$size",a),[a,s]=ut(),i=16,u=Oe({inlineSize:0,blockSize:0});function d(l,g){const m=e.screenHeight/2;if(l>1)return-g;if(l>.5){const k=(l-.5)*2;return-g+m-m*k}if(l<-.5){const k=(l+1.5)*2-1;return e.screenHeight-m*k}const w=l+.5;return m-g*w}function f(l,g){if(g===0)return"";let m=1;if(l>.75&&l<1){const w=(l-.75)*4;m=1-w*w*.2}if(l<-.5&&l>-1.5){const w=(l+.5)*-2;m=1-w*w*.3}return`translateY(${d(l,g+i)}px) scale(${m})`}var v=Ot();let h,c;var _=E(v);se(_,()=>e.children),P(v),St(v,(l,g)=>Pt?.(l,g),()=>u),V(l=>{h=W(v,1,"item svelte-65plo",null,h,{ssr:!ae}),v.inert=e.inert,c=Pe(v,"",c,l)},[()=>({transform:f(e.scroll,t().blockSize)})]),x(n,v),M(),s()}var Ht=U('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function Se(n,e){R(e,!0);var t=Ht();let a;t.__click=d=>{d.preventDefault(),e.move(e.direction==="up"?-1:1)};var s=E(t);let i;var u=z(s);P(t),V(d=>{a=W(t,1,"scroll-arrow svelte-18ta0lw",null,a,{up:e.direction==="up",down:e.direction==="down"}),be(t,"href",d),be(t,"aria-label",e.direction==="up"?"Vorige":"Volgende"),i=W(s,1,"arrow svelte-18ta0lw",null,i,{"start-rotated":ae}),dt(u,` ${e.title??""}`)},[()=>Ee("/projects/[project]",{project:e.slug})]),N(3,t,()=>_t,()=>({duration:200})),x(n,t),M()}Ae(["click"]);var Bt=U('<div><!> <!></div> <div class="screen-height svelte-1l59ohf"></div> <!> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function Nt(n,e){R(e,!0);const t=u(ht.params.project??""),a=he({});let s=S(he(t)),i=S(1);function u(o){return e.teasers.findIndex(b=>b.slug===o)}function d(o){const b=u(o);return a[b]||(a[b]=fetch(`/projects/${o}.json`).then(j=>j.json())),a[b]}let f;function v(o){clearTimeout(f),f=setTimeout(()=>{const{slug:b}=e.teasers[o],j=`/projects/${b}`;window.location.pathname!==j&&xt(Ee("/projects/[project]",{project:b}),{scroll:o})},100)}function h(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}let c=y(()=>Math.round(r(s))),_=y(()=>e.teasers[r(c)-1]),l=y(()=>e.teasers[r(c)]),g=y(()=>e.teasers[r(c)+1]),m=S(()=>Promise.resolve());H(()=>{r(l)&&d(r(l).slug)}),H(()=>{r(g)&&d(r(g).slug)}),H(()=>{r(_)&&d(r(_).slug)});let w=y(()=>[r(c)-1,r(c),r(c)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==t));H(()=>{v(r(c))});var k=Bt(),T=A(k);let ie;var oe=E(T);ft(oe,16,()=>r(w),o=>o,(o,b)=>{{let j=y(()=>r(s)-b),F=y(()=>b!==r(c));ze(o,{get scroll(){return r(j)},get inert(){return r(F)},get screenHeight(){return r(i)},children:(ue,J)=>{var q=D(),Ce=A(q);zt(Ce,()=>a[b],K=>{{let C=y(()=>h(e.teasers[b]));$(K,{get project(){return r(C)}})}},(K,C)=>{var de=D(),Le=A(de);{var We=I=>{$(I,{get project(){return r(C)}})},Ye=I=>{{let Ue=y(()=>h(e.teasers[b]));$(I,{get project(){return r(Ue)}})}};B(Le,I=>{r(C)?I(We):I(Ye,!1)})}x(K,de)}),x(ue,q)},$$slots:{default:!0}})}});var He=z(oe,2);{var Be=o=>{{let b=y(()=>r(s)-t),j=y(()=>t!==r(c));ze(o,{get scroll(){return r(b)},get inert(){return r(j)},get screenHeight(){return r(i)},children:(F,ue)=>{var J=D(),q=A(J);se(q,()=>e.children),x(F,J)},$$slots:{default:!0}})}};B(He,o=>{t>r(c)-2&&t<r(c)+2&&o(Be)})}P(T);var le=z(T,2),ce=z(le,2);Et(ce,{get max(){return e.teasers.length},get screenHeight(){return r(i)},get value(){return r(s)},set value(o){p(s,o,!0)},get move(){return r(m)},set move(o){p(m,o,!0)}});var O=z(ce,2);O.__mousedown=()=>{bt.set("right")};var Ne=E(O);wt(Ne,{href:"/portfolio",type:"previous",children:(o,b)=>{ot();var j=Ge("Portfolio");x(o,j)},$$slots:{default:!0}}),P(O);var G=z(O,2),Z=E(G),De=E(Z);{var Re=o=>{Se(o,{get slug(){return r(_).slug},get title(){return r(_).title},direction:"up",get move(){return r(m)}})};B(De,o=>{r(_)&&o(Re)})}P(Z);var Me=z(Z,2);{var qe=o=>{Se(o,{get slug(){return r(g).slug},get title(){return r(g).title},direction:"down",get move(){return r(m)}})};B(Me,o=>{r(g)&&o(qe)})}P(G),V(()=>ie=W(T,1,"viewport svelte-1l59ohf",null,ie,{ssr:!ae})),N(5,T,()=>pt,()=>({})),N(6,T,()=>yt,()=>({})),Tt(le,"clientHeight",o=>p(i,o)),N(6,O,()=>pe,()=>({duration:200})),N(6,G,()=>pe,()=>({duration:200})),x(n,k),M()}Ae(["mousedown"]);function Xt(n,e){R(e,!0),Nt(n,{get teasers(){return e.data.teasers},children:(t,a)=>{var s=D(),i=A(s);se(i,()=>e.children??lt),x(t,s)},$$slots:{default:!0}}),M()}export{Xt as component};
