import{B as ze,c as R,a as w,f as z,t as Le}from"../chunks/LLdtIxv7.js";import{h as W,w as qe,d as We,b0 as ce,B as Ce,k as Ue,D as Ve,j as J,v as Ge,R as K,Q as ue,b1 as Qe,aD as Ye,b2 as Ze,b3 as Fe,af as Je,au as Ke,m as Xe,q as be,ai as O,o as $e,ad as p,g as s,p as C,x as N,f as E,a as U,c as y,r as x,t as te,s as A,ak as ve,u as b,al as et,n as tt}from"../chunks/2utecpSq.js";import{s as V}from"../chunks/D9QkrnGo.js";import{p as de,d as ye,s as rt}from"../chunks/CQbO3nRq.js";import{i as S}from"../chunks/DdZMI9ou.js";import{r as xe,e as st}from"../chunks/Cu5C0th1.js";import{r as at,l as nt,t as M}from"../chunks/C-TC2cCy.js";import{p as it}from"../chunks/DGvySZOy.js";import{P as X}from"../chunks/CmUnTJ3s.js";import{c as ot,a as je,s as fe}from"../chunks/HrZLRDIu.js";import{i as ge}from"../chunks/vK_o3JBb.js";import{s as lt,c as ct,N as ut,b as vt,d as dt,a as he}from"../chunks/BtiPmpIi.js";import{r as ft}from"../chunks/CoRQNybS.js";import{s as me}from"../chunks/CwYW11HD.js";const gt=!0,_e=0,$=1;function ht(i,e,r,n,t){W&&qe();var a=Ke,u=ue(a),l=ue(a),v=new ze(i);We(()=>{var _=e(),f=!1;let c=W&&ce(_)===(i.data===Ce);if(c&&(Ue(Ve()),J(!1)),ce(_)){var g=Qe(),h=!1;const m=j=>{if(!f){h=!0,g(!1),Ye.ensure(),W&&J(!1);try{j()}finally{Ze(),Fe||Je()}}};_.then(j=>{m(()=>{K(u,j),v.ensure($,n&&(H=>n(H,u)))})},j=>{m(()=>{if(K(l,j),v.ensure($,t&&(H=>t(H,l))),!t)throw l.v})}),W?v.ensure(_e,r):Ge(()=>{h||m(()=>{v.ensure(_e,r)})})}else K(u,_),v.ensure($,n&&(m=>n(m,u)));return c&&J(!0),()=>{f=!0}})}class re{#e=new WeakMap;#t;#s;static entries=new WeakMap;constructor(e){this.#s=e}observe(e,r){var n=this.#e.get(e)||new Set;return n.add(r),this.#e.set(e,n),this.#r().observe(e,this.#s),()=>{var t=this.#e.get(e);t.delete(r),t.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var r of e){re.entries.set(r.target,r);for(var n of this.#e.get(r.target)||[])n(r)}}))}}var mt=new re({box:"border-box"});function _t(i,e,r){var n=mt.observe(i,()=>r(i[e]));Xe(()=>(be(()=>r(i[e])),n))}const wt=gt;function pt(i){return i}function bt(i){const e=i-1;return e*e*e+1}function ee(i,e){if(i===e||i!==i)return()=>i;const r=typeof i;if(r!==typeof e||Array.isArray(i)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(i)){const n=e.map((t,a)=>ee(i[a],t));return t=>n.map(a=>a(t))}if(r==="object"){if(!i||!e)throw new Error("Object cannot be null");if(ge(i)&&ge(e)){const a=i.getTime(),l=e.getTime()-a;return v=>new Date(a+v*l)}const n=Object.keys(e),t={};return n.forEach(a=>{t[a]=ee(i[a],e[a])}),a=>{const u={};return n.forEach(l=>{u[l]=t[l](a)}),u}}if(r==="number"){const n=e-i;return t=>i+t*n}return()=>e}class se{#e;#t;#s;#r=null;constructor(e,r={}){this.#e=O(e),this.#t=O(e),this.#s=r}static of(e,r){const n=new se(e(),r);return $e(()=>{n.set(e())}),n}set(e,r){p(this.#t,e);let{delay:n=0,duration:t=400,easing:a=pt,interpolate:u=ee}={...this.#s,...r};if(t===0)return this.#r?.abort(),p(this.#e,e),Promise.resolve();const l=at.now()+n;let v,_=!1,f=this.#r;return this.#r=nt(c=>{if(c<l)return!0;if(!_){_=!0;const h=this.#e.v;v=u(h,e),typeof t=="function"&&(t=t(h,e)),f?.abort()}const g=c-l;return g>t?(p(this.#e,e),!1):(p(this.#e,v(a(g/t))),!0)}),this.#r.promise}get current(){return s(this.#e)}get target(){return s(this.#t)}set target(e){this.set(e)}}var yt=z('<div class="scroller svelte-1k9wlrq"><!></div>');function xt(i,e){C(e,!0);let r=de(e,"value",15),n=de(e,"move",15),t=O(void 0),a;n(async f=>{let c=Math.round(s(t)?.target??r())+f,g=200;s(t)||(p(t,new se(r(),{easing:bt}),!0),g=400),await s(t).set(c,{duration:g}),p(t,void 0)});function u(){!a||s(t)||r(Math.round(a.scrollTop/(e.screenHeight*e.max)*e.max))}N(()=>{s(t)&&(a.scrollTop=s(t).current*e.screenHeight,r(Math.round(s(t).current)))}),N(()=>{a&&e.screenHeight>1&&(a.scrollTop=be(()=>r()*e.screenHeight))});var l=R(),v=E(l);{var _=f=>{var c=yt();let g;var h=y(c);V(h,()=>e.children),x(c),ot(c,()=>m=>(a=m.parentElement,a.addEventListener("scroll",u,{passive:!0}),()=>{a.removeEventListener("scroll",u)})),te(()=>g=je(c,"",g,{height:`${e.max*e.screenHeight}px`})),w(f,c)};S(v,f=>{f(_)})}w(i,l),U()}var jt=z('<div class="item svelte-65plo"><div class="svelte-65plo"><!></div></div>');function we(i,e){var r=jt();let n;var t=y(r),a=y(t);V(a,()=>e.children),x(t),x(r),te(()=>{r.inert=e.inert,n=je(r,"",n,{top:`${e.index*e.screenHeight}px`})}),w(i,r)}var kt=z('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function pe(i,e){C(e,!0);var r=kt();let n;r.__click=l=>{l.preventDefault(),e.move(e.direction==="up"?-1:1)};var t=y(r);let a;var u=A(t);x(r),te(l=>{n=me(r,1,"scroll-arrow svelte-18ta0lw",null,n,{up:e.direction==="up",down:e.direction==="down"}),fe(r,"href",l),fe(r,"aria-label",e.direction==="up"?"Vorige":"Volgende"),a=me(t,1,"arrow svelte-18ta0lw",null,a,{"start-rotated":wt}),rt(u,` ${e.title??""}`)},[()=>xe("/projects/[project]",{project:e.slug})]),M(3,r,()=>lt,()=>({duration:200})),w(i,r),U()}ye(["click"]);var Tt=z("<!> <!>",1),Et=z('<div class="viewport svelte-1l59ohf"><div class="screen-height svelte-1l59ohf"></div> <!></div> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function Ht(i,e){C(e,!0);const r=u(it.params.project??""),n=ve({});let t=O(ve(r)),a=O(1);function u(o){return e.teasers.findIndex(d=>d.slug===o)}function l(o){const d=u(o);return n[d]||(n[d]=fetch(`/projects/${o}.json`).then(I=>I.json())),n[d]}let v;function _(o){clearTimeout(v),v=setTimeout(()=>{const{slug:d}=e.teasers[o],I=`/projects/${d}`;window.location.pathname!==I&&ft(xe("/projects/[project]",{project:d}),{scroll:o})},100)}function f(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}let c=b(()=>e.teasers[s(t)-1]),g=b(()=>e.teasers[s(t)]),h=b(()=>e.teasers[s(t)+1]),m=O(()=>Promise.resolve());N(()=>{s(g)&&l(s(g).slug)}),N(()=>{s(h)&&l(s(h).slug)}),N(()=>{s(c)&&l(s(c).slug)});let j=b(()=>[s(t)-1,s(t),s(t)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==r));N(()=>{_(s(t))});var H=Et(),D=E(H),ae=y(D),ke=A(ae,2);{var Te=o=>{xt(o,{get max(){return e.teasers.length},get screenHeight(){return s(a)},get value(){return s(t)},set value(d){p(t,d,!0)},get move(){return s(m)},set move(d){p(m,d,!0)},children:(d,I)=>{var ne=Tt(),ie=E(ne);st(ie,16,()=>s(j),k=>k,(k,T)=>{{let Y=b(()=>T!==s(t));we(k,{get index(){return T},get inert(){return s(Y)},get screenHeight(){return s(a)},children:(oe,Z)=>{var L=R(),Oe=E(L);ht(Oe,()=>n[T],F=>{{let q=b(()=>f(e.teasers[T]));X(F,{get project(){return s(q)}})}},(F,q)=>{var le=R(),De=E(le);{var Be=P=>{X(P,{get project(){return s(q)}})},Me=P=>{{let Re=b(()=>f(e.teasers[T]));X(P,{get project(){return s(Re)}})}};S(De,P=>{s(q)?P(Be):P(Me,!1)})}w(F,le)}),w(oe,L)}})}});var Se=A(ie,2);{var Ne=k=>{{let T=b(()=>r!==s(t));we(k,{get index(){return r},get inert(){return s(T)},get screenHeight(){return s(a)},children:(Y,oe)=>{var Z=R(),L=E(Z);V(L,()=>e.children),w(Y,Z)}})}};S(Se,k=>{r>s(t)-2&&r<s(t)+2&&k(Ne)})}w(d,ne)},$$slots:{default:!0}})};S(ke,o=>{o(Te,!1)})}x(D);var B=A(D,2);B.__mousedown=()=>{ct.set("right")};var Ee=y(B);ut(Ee,{href:"/portfolio",type:"previous",children:(o,d)=>{et();var I=Le("Portfolio");w(o,I)},$$slots:{default:!0}}),x(B);var G=A(B,2),Q=y(G),He=y(Q);{var Ie=o=>{pe(o,{get slug(){return s(c).slug},get title(){return s(c).title},direction:"up",get move(){return s(m)}})};S(He,o=>{s(c)&&o(Ie)})}x(Q);var Pe=A(Q,2);{var Ae=o=>{pe(o,{get slug(){return s(h).slug},get title(){return s(h).title},direction:"down",get move(){return s(m)}})};S(Pe,o=>{s(h)&&o(Ae)})}x(G),_t(ae,"clientHeight",o=>p(a,o)),M(5,D,()=>vt,()=>({})),M(6,D,()=>dt,()=>({})),M(6,B,()=>he,()=>({duration:200})),M(6,G,()=>he,()=>({duration:200})),w(i,H),U()}ye(["mousedown"]);function Ct(i,e){C(e,!0),Ht(i,{get teasers(){return e.data.teasers},children:(r,n)=>{var t=R(),a=E(t);V(a,()=>e.children??tt),w(r,t)},$$slots:{default:!0}}),U()}export{Ct as component};
