import{B as Ve,c as R,a as x,f as U,t as Ge}from"../chunks/CsJs2omP.js";import{h as L,w as Ze,d as Fe,b0 as fe,B as Je,k as Ke,D as Qe,j as Q,v as Xe,_ as X,L as ve,b1 as $e,aD as et,b2 as tt,b3 as rt,af as st,au as nt,m as ke,q as Te,o as Ie,b4 as at,a2 as it,ai as S,ad as p,g as r,p as M,x as B,f as A,a as H,a$ as ge,t as V,c as E,r as P,s as z,ak as he,u as y,al as ot,n as lt}from"../chunks/DMnqe2cU.js";import{s as se}from"../chunks/7W9p8KPY.js";import{p as me,f as _e,e as ct,g as ut,d as Ae,s as dt}from"../chunks/BisPfddz.js";import{i as N}from"../chunks/Y6fVl_QK.js";import{r as Ee,e as ft}from"../chunks/C6FUPo_2.js";import{s as W}from"../chunks/BvoCxkZQ.js";import{r as vt,l as gt,t as D}from"../chunks/CXHnUokZ.js";import{p as ht}from"../chunks/BmuFq8YZ.js";import{P as $}from"../chunks/BQbLIqF-.js";import{o as mt}from"../chunks/CWb04o_1.js";import{a as Pe,s as be}from"../chunks/B-gU1dI0.js";import{i as we}from"../chunks/vK_o3JBb.js";import{w as Oe}from"../chunks/1ZPoLK62.js";import{s as _t,c as bt,N as wt,b as pt,d as yt,a as pe}from"../chunks/tm3jdakV.js";import{r as xt}from"../chunks/oWG7X3Cu.js";const jt=!0,ye=0,ee=1;function zt(n,e,t,a,s){L&&Ze();var i=nt,u=ve(i),d=ve(i),f=new Ve(n);Fe(()=>{var v=e(),m=!1;let c=L&&fe(v)===(n.data===Je);if(c&&(Ke(Qe()),Q(!1)),fe(v)){var b=$e(),l=!1;const h=_=>{if(!m){l=!0,b(!1),et.ensure(),L&&Q(!1);try{_()}finally{tt(),rt||st()}}};v.then(_=>{h(()=>{X(u,_),f.ensure(ee,a&&(w=>a(w,u)))})},_=>{h(()=>{if(X(d,_),f.ensure(ee,s&&(w=>s(w,d))),!s)throw d.v})}),L?f.ensure(ye,t):Xe(()=>{l||h(()=>{f.ensure(ye,t)})})}else X(u,v),f.ensure(ee,a&&(h=>a(h,u)));return c&&Q(!0),()=>{m=!0}})}function St(n,e,t){ke(()=>{var a=Te(()=>e(n,t?.())||{});if(t&&a?.update){var s=!1,i={};Ie(()=>{var u=t();at(u),s&&it(i,u)&&(i=u,a.update(u))}),s=!0}if(a?.destroy)return()=>a.destroy()})}class ne{#e=new WeakMap;#t;#s;static entries=new WeakMap;constructor(e){this.#s=e}observe(e,t){var a=this.#e.get(e)||new Set;return a.add(t),this.#e.set(e,a),this.#r().observe(e,this.#s),()=>{var s=this.#e.get(e);s.delete(t),s.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var t of e){ne.entries.set(t.target,t);for(var a of this.#e.get(t.target)||[])a(t)}}))}}var kt=new ne({box:"border-box"});function Tt(n,e,t){var a=kt.observe(n,()=>t(n[e]));ke(()=>(Te(()=>t(n[e])),a))}const ae=jt;function It(n){return n}function te(n){const e=n-1;return e*e*e+1}function re(n,e){if(n===e||n!==n)return()=>n;const t=typeof n;if(t!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const a=e.map((s,i)=>re(n[i],s));return s=>a.map(i=>i(s))}if(t==="object"){if(!n||!e)throw new Error("Object cannot be null");if(we(n)&&we(e)){const i=n.getTime(),d=e.getTime()-i;return f=>new Date(i+f*d)}const a=Object.keys(e),s={};return a.forEach(i=>{s[i]=re(n[i],e[i])}),i=>{const u={};return a.forEach(d=>{u[d]=s[d](i)}),u}}if(t==="number"){const a=e-n;return s=>n+s*a}return()=>e}class Y{#e;#t;#s;#r=null;constructor(e,t={}){this.#e=S(e),this.#t=S(e),this.#s=t}static of(e,t){const a=new Y(e(),t);return Ie(()=>{a.set(e())}),a}set(e,t){p(this.#t,e);let{delay:a=0,duration:s=400,easing:i=It,interpolate:u=re}={...this.#s,...t};if(s===0)return this.#r?.abort(),p(this.#e,e),Promise.resolve();const d=vt.now()+a;let f,v=!1,m=this.#r;return this.#r=gt(c=>{if(c<d)return!0;if(!v){v=!0;const l=this.#e.v;f=u(l,e),typeof s=="function"&&(s=s(l,e)),m?.abort()}const b=c-d;return b>s?(p(this.#e,e),!1):(p(this.#e,f(i(b/s))),!0)}),this.#r.promise}get current(){return r(this.#e)}get target(){return r(this.#t)}set target(e){this.set(e)}}var At=U('<div class="scroller svelte-1k9wlrq"></div>');function Et(n,e){M(e,!0);let t=me(e,"value",15),a=me(e,"move",15),s=S(void 0),i=S(void 0);t()!==0&&mt(()=>{window.scrollTo({top:e.increments*t(),behavior:"instant"})}),a(async c=>{p(i,void 0);let b=Math.round(r(s)?.target??t())+c;r(s)||p(s,new Y(t(),{duration:400,easing:te}),!0);const l=r(s);await r(s).set(b,{duration:300,easing:te}),r(s)===l&&window.scrollTo({top:e.increments*b,behavior:"instant"}),p(s,void 0)});function u(){p(s,void 0);const c=window.scrollY/(e.increments*e.max)*e.max;r(i)||p(i,new Y(c,{duration:50,easing:te}),!0),r(i).set(c)}function d(){p(i,void 0)}B(()=>{r(i)?t(r(i).current):r(s)&&t(r(s).current)});var f=R();_e("scroll",ge,u),_e("scrollend",ge,d);var v=A(f);{var m=c=>{var b=At();let l;V(()=>l=Pe(b,"",l,{height:`${e.max*e.increments}svh`})),x(c,b)};N(v,c=>{c(m)})}x(n,f),H()}function Pt(n,e){let t=xe(e),a,s,i=!0;function u({box:f}){a=new ResizeObserver(([v])=>{let m;f==="border-box"?m=v.borderBoxSize:f==="device-pixel-content-box"?m=v.devicePixelContentBoxSize:m=v.contentBoxSize,t.set(Array.isArray(m)?m[0]:m),i=!1}),a.observe(n,{box:f}),s=t.subscribe(v=>{i||n.dispatchEvent(new CustomEvent("has-resized",{detail:v}))})}function d(){a.disconnect(),s()}return u(je(e)),{update(f){i=!0,t=xe(f),d(),u(je(f))},destroy(){d()}}}function xe(n){if(typeof n=="object"){if(n.subscribe)return n;if(n.store)return n.store}return Oe({inlineSize:0,blockSize:0})}function je(n){if(typeof n>"u"||n.subscribe)return{};const{store:e,...t}=n;return t}var Ot=U("<div><!></div>");function ze(n,e){M(e,!0);const t=()=>ct(u,"$size",a),[a,s]=ut(),i=16,u=Oe({inlineSize:0,blockSize:0});function d(l,h){const _=e.screenHeight/2;if(l>1)return-h;if(l>.5){const k=(l-.5)*2;return-h+_-_*k}if(l<-.5){const k=(l+1.5)*2-1;return e.screenHeight-_*k}const w=l+.5;return _-h*w}function f(l,h){if(h===0)return"";let _=1;if(l>.75&&l<1){const w=(l-.75)*4;_=1-w*w*.2}if(l<-.5&&l>-1.5){const w=(l+.5)*-2;_=1-w*w*.3}return`translateY(${d(l,h+i)}px) scale(${_})`}var v=Ot();let m,c;var b=E(v);se(b,()=>e.children),P(v),St(v,(l,h)=>Pt?.(l,h),()=>u),V(l=>{m=W(v,1,"item svelte-65plo",null,m,{ssr:!ae}),v.inert=e.inert,c=Pe(v,"",c,l)},[()=>({transform:f(e.scroll,t().blockSize)})]),x(n,v),H(),s()}var Bt=U('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function Se(n,e){M(e,!0);var t=Bt();let a;t.__click=d=>{d.preventDefault(),e.move(e.direction==="up"?-1:1)};var s=E(t);let i;var u=z(s);P(t),V(d=>{a=W(t,1,"scroll-arrow svelte-18ta0lw",null,a,{up:e.direction==="up",down:e.direction==="down"}),be(t,"href",d),be(t,"aria-label",e.direction==="up"?"Vorige":"Volgende"),i=W(s,1,"arrow svelte-18ta0lw",null,i,{"start-rotated":ae}),dt(u,` ${e.title??""}`)},[()=>Ee("/projects/[project]",{project:e.slug})]),D(3,t,()=>_t,()=>({duration:200})),x(n,t),H()}Ae(["click"]);var Nt=U('<div><!> <!></div> <div class="screen-height svelte-1l59ohf"></div> <!> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function Dt(n,e){M(e,!0);const t=u(ht.params.project??""),a=he({});let s=S(he(t)),i=S(1);function u(o){return e.teasers.findIndex(g=>g.slug===o)}function d(o){const g=u(o);return a[g]||(a[g]=fetch(`/projects/${o}.json`).then(j=>j.json())),a[g]}let f;function v(o){clearTimeout(f),f=setTimeout(()=>{const{slug:g}=e.teasers[o],j=`/projects/${g}`;window.location.pathname!==j&&xt(Ee("/projects/[project]",{project:g}),{scroll:o})},100)}function m(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}let c=y(()=>Math.round(r(s))),b=y(()=>e.teasers[r(c)-1]),l=y(()=>e.teasers[r(c)]),h=y(()=>e.teasers[r(c)+1]),_=S(()=>Promise.resolve());B(()=>{r(l)&&d(r(l).slug)}),B(()=>{r(h)&&d(r(h).slug)}),B(()=>{r(b)&&d(r(b).slug)});let w=y(()=>[r(c)-1,r(c),r(c)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==t));B(()=>{v(r(c))});var k=Nt(),T=A(k);let ie;var oe=E(T);ft(oe,16,()=>r(w),o=>o,(o,g)=>{{let j=y(()=>r(s)-g),F=y(()=>g!==r(c));ze(o,{get scroll(){return r(j)},get inert(){return r(F)},get screenHeight(){return r(i)},children:(ue,J)=>{var q=R(),Ce=A(q);zt(Ce,()=>a[g],K=>{{let C=y(()=>m(e.teasers[g]));$(K,{get project(){return r(C)}})}},(K,C)=>{var de=R(),Le=A(de);{var We=I=>{$(I,{get project(){return r(C)}})},Ye=I=>{{let Ue=y(()=>m(e.teasers[g]));$(I,{get project(){return r(Ue)}})}};N(Le,I=>{r(C)?I(We):I(Ye,!1)})}x(K,de)}),x(ue,q)},$$slots:{default:!0}})}});var Be=z(oe,2);{var Ne=o=>{{let g=y(()=>r(s)-t),j=y(()=>t!==r(c));ze(o,{get scroll(){return r(g)},get inert(){return r(j)},get screenHeight(){return r(i)},children:(F,ue)=>{var J=R(),q=A(J);se(q,()=>e.children),x(F,J)},$$slots:{default:!0}})}};N(Be,o=>{t>r(c)-2&&t<r(c)+2&&o(Ne)})}P(T);var le=z(T,2),ce=z(le,2);{let o=y(()=>r(i)*.7);Et(ce,{get max(){return e.teasers.length},get increments(){return r(o)},get value(){return r(s)},set value(g){p(s,g,!0)},get move(){return r(_)},set move(g){p(_,g,!0)}})}var O=z(ce,2);O.__mousedown=()=>{bt.set("right")};var De=E(O);wt(De,{href:"/portfolio",type:"previous",children:(o,g)=>{ot();var j=Ge("Portfolio");x(o,j)},$$slots:{default:!0}}),P(O);var G=z(O,2),Z=E(G),Re=E(Z);{var Me=o=>{Se(o,{get slug(){return r(b).slug},get title(){return r(b).title},direction:"up",get move(){return r(_)}})};N(Re,o=>{r(b)&&o(Me)})}P(Z);var He=z(Z,2);{var qe=o=>{Se(o,{get slug(){return r(h).slug},get title(){return r(h).title},direction:"down",get move(){return r(_)}})};N(He,o=>{r(h)&&o(qe)})}P(G),V(()=>ie=W(T,1,"viewport svelte-1l59ohf",null,ie,{ssr:!ae})),D(5,T,()=>pt,()=>({})),D(6,T,()=>yt,()=>({})),Tt(le,"clientHeight",o=>p(i,o)),D(6,O,()=>pe,()=>({duration:200})),D(6,G,()=>pe,()=>({duration:200})),x(n,k),H()}Ae(["mousedown"]);function Xt(n,e){M(e,!0),Dt(n,{get teasers(){return e.data.teasers},children:(t,a)=>{var s=R(),i=A(s);se(i,()=>e.children??lt),x(t,s)},$$slots:{default:!0}}),H()}export{Xt as component};
