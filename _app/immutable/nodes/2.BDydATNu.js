import{B as Oe,c as R,a as _,f as M,t as Re}from"../chunks/ik7tsR6x.js";import{h as V,w as Le,d as Me,b0 as ie,B as qe,k as Ce,D as He,j as J,v as Ue,R as K,Q as le,b1 as Ve,aD as ze,b2 as Ge,b3 as Qe,ac as We,au as Ye,af as L,o as Ze,aa as y,g as s,p as q,x as z,f as k,a as C,c as j,r as x,t as te,q as Fe,s as B,ah as ue,ai as Je,u as T,n as Ke}from"../chunks/yVz8lnA6.js";import{s as G}from"../chunks/ig8rL55c.js";import{p as ce,d as pe,s as Xe}from"../chunks/B2CbXJAh.js";import{i as A}from"../chunks/ChAp-vuj.js";import{r as we,e as $e}from"../chunks/CHtHS_B-.js";import{r as et,l as tt,t as O}from"../chunks/duuJ8Fb1.js";import{p as rt}from"../chunks/78QEarvA.js";import{s as S,P as X}from"../chunks/DvSVERei.js";import{b as st,c as ye,s as fe}from"../chunks/CmVX9ehj.js";import{i as de}from"../chunks/vK_o3JBb.js";import{s as at,c as nt,N as ot,b as it,d as lt,a as ve}from"../chunks/BGLb0n2h.js";import{r as ut}from"../chunks/B31JXKbJ.js";import{s as he}from"../chunks/89eZtpxC.js";const ct=!0,me=0,$=1;function ft(n,e,r,i,t){V&&Le();var a=Ye,u=le(a),l=le(a),v=new Oe(n);Me(()=>{var m=e(),h=!1;let c=V&&ie(m)===(n.data===qe);if(c&&(Ce(He()),J(!1)),ie(m)){var f=Ve(),w=!1;const p=g=>{if(!h){w=!0,f(!1),ze.ensure(),V&&J(!1);try{g()}finally{Ge(),Qe||We()}}};m.then(g=>{p(()=>{K(u,g),v.ensure($,i&&(N=>i(N,u)))})},g=>{p(()=>{if(K(l,g),v.ensure($,t&&(N=>t(N,l))),!t)throw l.v})}),V?v.ensure(me,r):Ue(()=>{w||p(()=>{v.ensure(me,r)})})}else K(u,m),v.ensure($,i&&(p=>i(p,u)));return c&&J(!0),()=>{h=!0}})}const dt=ct;function vt(n){return n}function ht(n){const e=n-1;return e*e*e+1}function ee(n,e){if(n===e||n!==n)return()=>n;const r=typeof n;if(r!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const i=e.map((t,a)=>ee(n[a],t));return t=>i.map(a=>a(t))}if(r==="object"){if(!n||!e)throw new Error("Object cannot be null");if(de(n)&&de(e)){const a=n.getTime(),l=e.getTime()-a;return v=>new Date(a+v*l)}const i=Object.keys(e),t={};return i.forEach(a=>{t[a]=ee(n[a],e[a])}),a=>{const u={};return i.forEach(l=>{u[l]=t[l](a)}),u}}if(r==="number"){const i=e-n;return t=>n+t*i}return()=>e}class re{#e;#r;#s;#t=null;constructor(e,r={}){this.#e=L(e),this.#r=L(e),this.#s=r}static of(e,r){const i=new re(e(),r);return Ze(()=>{i.set(e())}),i}set(e,r){y(this.#r,e);let{delay:i=0,duration:t=400,easing:a=vt,interpolate:u=ee}={...this.#s,...r};if(t===0)return this.#t?.abort(),y(this.#e,e),Promise.resolve();const l=et.now()+i;let v,m=!1,h=this.#t;return this.#t=tt(c=>{if(c<l)return!0;if(!m){m=!0;const w=this.#e.v;v=u(w,e),typeof t=="function"&&(t=t(w,e)),h?.abort()}const f=c-l;return f>t?(y(this.#e,e),!1):(y(this.#e,v(a(f/t))),!0)}),this.#t.promise}get current(){return s(this.#e)}get target(){return s(this.#r)}set target(e){this.set(e)}}var mt=M('<div class="scroller svelte-1k9wlrq"><!></div>');function gt(n,e){q(e,!0);let r=ce(e,"value",15),i=ce(e,"move",15),t=L(void 0),a;i(async h=>{let c=Math.round(s(t)?.target??r())+h,f=200;s(t)||(y(t,new re(r(),{easing:ht}),!0),f=400),await s(t).set(c,{duration:f}),y(t,void 0)});function u(){!a||s(t)||r(Math.round(a.scrollTop/(S.height*e.max)*e.max))}z(()=>{s(t)&&(a.scrollTop=s(t).current*S.height,r(Math.round(s(t).current)))}),z(()=>{a&&S.height>1&&(a.scrollTop=Fe(()=>r()*S.height))});var l=R(),v=k(l);{var m=h=>{var c=mt();let f;var w=j(c);G(w,()=>e.children),x(c),st(c,()=>p=>(a=p.parentElement,a.addEventListener("scroll",u,{passive:!0}),()=>{a.removeEventListener("scroll",u)})),te(()=>f=ye(c,"",f,{height:`${e.max*S.height}px`})),_(h,c)};A(v,h=>{h(m)})}_(n,l),C()}var _t=M('<div class="item svelte-65plo"><div class="svelte-65plo"><!></div></div>');function ge(n,e){q(e,!0);var r=_t();let i;var t=j(r),a=j(t);G(a,()=>e.children),x(t),x(r),te(()=>{r.inert=e.inert,i=ye(r,"",i,{top:`${e.index*S.height}px`})}),_(n,r),C()}var pt=M('<a data-sveltekit-replacestate=""><img draggable="false" src="/images/nav-button-next.svg" alt="" height="42" width="28"/> </a>');function _e(n,e){q(e,!0);var r=pt();let i;r.__click=l=>{l.preventDefault(),e.move(e.direction==="up"?-1:1)};var t=j(r);let a;var u=B(t);x(r),te(l=>{i=he(r,1,"scroll-arrow svelte-18ta0lw",null,i,{up:e.direction==="up",down:e.direction==="down"}),fe(r,"href",l),fe(r,"aria-label",e.direction==="up"?"Vorige":"Volgende"),a=he(t,1,"arrow svelte-18ta0lw",null,a,{"start-rotated":dt}),Xe(u,` ${e.title??""}`)},[()=>we("/projects/[project]",{project:e.slug})]),O(3,r,()=>at,()=>({duration:200})),_(n,r),C()}pe(["click"]);var wt=M("<!> <!>",1),yt=M('<div class="viewport svelte-1l59ohf"><!></div> <div class="previous svelte-1l59ohf"><!></div> <div class="up-down svelte-1l59ohf"><div class="up svelte-1l59ohf"><!></div> <!></div>',1);function jt(n,e){q(e,!0);const r=a(rt.params.project??""),i=ue({});let t=L(ue(r));function a(o){return e.teasers.findIndex(d=>d.slug===o)}function u(o){const d=a(o);return i[d]||(i[d]=fetch(`/projects/${o}.json`).then(I=>I.json())),i[d]}let l;function v(o){clearTimeout(l),l=setTimeout(()=>{const{slug:d}=e.teasers[o],I=`/projects/${d}`;window.location.pathname!==I&&ut(we("/projects/[project]",{project:d}),{scroll:o})},100)}function m(o){return{content:"",released:o.released,slug:o.slug,title:o.title}}z(()=>{e.teasers.slice(s(t)-1,s(t)+2).forEach(o=>void u(o.slug))});let h=T(()=>e.teasers[s(t)-1]),c=T(()=>e.teasers[s(t)+1]),f=L(()=>Promise.resolve()),w=T(()=>[s(t)-1,s(t),s(t)+1].filter(o=>o>=0&&o<e.teasers.length&&o!==r));z(()=>{v(s(t))});var p=yt(),g=k(p),N=j(g);{var je=o=>{gt(o,{get max(){return e.teasers.length},get value(){return s(t)},set value(d){y(t,d,!0)},get move(){return s(f)},set move(d){y(f,d,!0)},children:(d,I)=>{var se=wt(),ae=k(se);$e(ae,16,()=>s(w),b=>b,(b,E)=>{{let Y=T(()=>E!==s(t));ge(b,{get index(){return E},get inert(){return s(Y)},children:(ne,Z)=>{var H=R(),Ae=k(H);ft(Ae,()=>i[E],F=>{{let U=T(()=>m(e.teasers[E]));X(F,{get project(){return s(U)}})}},(F,U)=>{var oe=R(),Se=k(oe);{var Ne=P=>{X(P,{get project(){return s(U)}})},De=P=>{{let Be=T(()=>m(e.teasers[E]));X(P,{get project(){return s(Be)}})}};A(Se,P=>{s(U)?P(Ne):P(De,!1)})}_(F,oe)}),_(ne,H)},$$slots:{default:!0}})}});var Ie=B(ae,2);{var Pe=b=>{{let E=T(()=>r!==s(t));ge(b,{get index(){return r},get inert(){return s(E)},children:(Y,ne)=>{var Z=R(),H=k(Z);G(H,()=>e.children),_(Y,Z)},$$slots:{default:!0}})}};A(Ie,b=>{r>s(t)-2&&r<s(t)+2&&b(Pe)})}_(d,se)},$$slots:{default:!0}})};A(N,o=>{o(je,!1)})}x(g);var D=B(g,2);D.__mousedown=()=>{nt.set("right")};var xe=j(D);ot(xe,{href:"/portfolio",type:"previous",children:(o,d)=>{Je();var I=Re("Portfolio");_(o,I)},$$slots:{default:!0}}),x(D);var Q=B(D,2),W=j(Q),be=j(W);{var Ee=o=>{_e(o,{get slug(){return s(h).slug},get title(){return s(h).title},direction:"up",get move(){return s(f)}})};A(be,o=>{s(h)&&o(Ee)})}x(W);var Te=B(W,2);{var ke=o=>{_e(o,{get slug(){return s(c).slug},get title(){return s(c).title},direction:"down",get move(){return s(f)}})};A(Te,o=>{s(c)&&o(ke)})}x(Q),O(5,g,()=>it,()=>({})),O(6,g,()=>lt,()=>({})),O(6,D,()=>ve,()=>({duration:200})),O(6,Q,()=>ve,()=>({duration:200})),_(n,p),C()}pe(["mousedown"]);function Lt(n,e){q(e,!0),jt(n,{get teasers(){return e.data.teasers},children:(r,i)=>{var t=R(),a=k(t);G(a,()=>e.children??Ke),_(r,t)},$$slots:{default:!0}}),C()}export{Lt as component};
