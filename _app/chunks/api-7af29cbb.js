var S=Object.defineProperty;var f=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var w=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&w(e,n,t[n]);if(f)for(var n of f(t))$.call(t,n)&&w(e,n,t[n]);return e};var y=(e,t)=>{var n={};for(var s in e)h.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&f)for(var s of f(e))t.indexOf(s)<0&&$.call(e,s)&&(n[s]=e[s]);return n};function b(e,t){const n=g({},t);let s=e;for(const[a,o]of Object.entries(t)){const c=s.replace(`[${a}]`,o);c!==s&&(s=c,delete n[a])}const r=new URLSearchParams(n).toString();return`${s}${r?`?${r}`:""}`}const u=Symbol("response");async function m(e,t,n){let p=n,{ssrCache:s,fetch:r,params:a}=p,o=y(p,["ssrCache","fetch","params"]);if(a=a||{},!r){if(typeof window=="undefined")throw new Error("Missing config.fetch");r=window.fetch}s&&typeof window=="undefined"&&(o.headers=new Headers(o.headers),o.headers.append("Svelte-Cache",`${s}`)),o.method=e;const c=`/${b(t,a)}`,i=await r(c,o);if(!i.ok){const l=new Error(`${e} ${c} failed: ${i.status} ${i.statusText}`);throw l[u]=i,l}const d=await i.json();return d[u]=i,d}const x={get(e,t){return m("GET",e,t||{})}};function v(e){if(typeof e=="object"&&e!==null)return e[u]}function C(e){const t=v(e);if(t)return t.status}export{x as a,C as g};
